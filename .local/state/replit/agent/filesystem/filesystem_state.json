{"file_contents":{"navigation/screenOptions.ts":{"content":"import { Platform } from \"react-native\";\nimport { NativeStackNavigationOptions } from \"@react-navigation/native-stack\";\nimport { isLiquidGlassAvailable } from \"expo-glass-effect\";\n\ninterface ScreenOptionsParams {\n  theme: {\n    backgroundRoot: string;\n    text: string;\n  };\n  isDark: boolean;\n  transparent?: boolean;\n}\n\nexport const getCommonScreenOptions = ({\n  theme,\n  isDark,\n  transparent = true,\n}: ScreenOptionsParams): NativeStackNavigationOptions => ({\n  headerTitleAlign: \"center\",\n  headerTransparent: transparent,\n  headerBlurEffect: isDark ? \"dark\" : \"light\",\n  headerTintColor: theme.text,\n  headerStyle: {\n    backgroundColor: Platform.select({\n      ios: undefined,\n      android: theme.backgroundRoot,\n      web: theme.backgroundRoot,\n    }),\n  },\n  gestureEnabled: true,\n  gestureDirection: \"horizontal\",\n  fullScreenGestureEnabled: isLiquidGlassAvailable() ? false : true,\n  contentStyle: {\n    backgroundColor: theme.backgroundRoot,\n  },\n});\n","size_bytes":964},"screens/RegisterScreen.tsx":{"content":"import { useState } from 'react';\nimport { View, StyleSheet, TextInput, Pressable, Alert } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport { ScreenKeyboardAwareScrollView } from '../components/ScreenKeyboardAwareScrollView';\nimport { ThemedText } from '../components/ThemedText';\nimport { useTheme } from '../hooks/useTheme';\nimport { useAuth } from '../hooks/useAuth';\nimport { Spacing, BorderRadius } from '../constants/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\ntype RootStackParamList = {\n  Login: undefined;\n  Register: undefined;\n  MainTabs: undefined;\n};\n\nexport function RegisterScreen() {\n  const navigation = useNavigation<NativeStackNavigationProp<RootStackParamList>>();\n  const { colors } = useTheme();\n  const { register } = useAuth();\n  \n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleRegister = async () => {\n    if (!name || !email || !password || !confirmPassword) {\n      Alert.alert('Error', 'Please fill in all fields');\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      Alert.alert('Error', 'Passwords do not match');\n      return;\n    }\n\n    if (password.length < 6) {\n      Alert.alert('Error', 'Password must be at least 6 characters');\n      return;\n    }\n\n    setLoading(true);\n    const success = await register(name, email, password);\n    setLoading(false);\n\n    if (success) {\n      navigation.replace('MainTabs');\n    } else {\n      Alert.alert('Error', 'Registration failed. Please try again.');\n    }\n  };\n\n  return (\n    <ScreenKeyboardAwareScrollView contentContainerStyle={styles.container}>\n      <View style={styles.content}>\n        <ThemedText style={[styles.title, { color: colors.text }]}>\n          Create Account\n        </ThemedText>\n        <ThemedText style={[styles.subtitle, { color: colors.textSecondary }]}>\n          Sign up to start your hydration journey\n        </ThemedText>\n\n        <View style={styles.form}>\n          <View style={styles.inputContainer}>\n            <ThemedText style={[styles.label, { color: colors.text }]}>Name</ThemedText>\n            <TextInput\n              style={[styles.input, { \n                backgroundColor: colors.surface, \n                borderColor: colors.border,\n                color: colors.text \n              }]}\n              placeholder=\"Enter your name\"\n              placeholderTextColor={colors.textSecondary}\n              value={name}\n              onChangeText={setName}\n              autoCapitalize=\"words\"\n              autoComplete=\"name\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <ThemedText style={[styles.label, { color: colors.text }]}>Email</ThemedText>\n            <TextInput\n              style={[styles.input, { \n                backgroundColor: colors.surface, \n                borderColor: colors.border,\n                color: colors.text \n              }]}\n              placeholder=\"Enter your email\"\n              placeholderTextColor={colors.textSecondary}\n              value={email}\n              onChangeText={setEmail}\n              keyboardType=\"email-address\"\n              autoCapitalize=\"none\"\n              autoComplete=\"email\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <ThemedText style={[styles.label, { color: colors.text }]}>Password</ThemedText>\n            <View style={styles.passwordContainer}>\n              <TextInput\n                style={[styles.input, styles.passwordInput, { \n                  backgroundColor: colors.surface, \n                  borderColor: colors.border,\n                  color: colors.text \n                }]}\n                placeholder=\"Create a password\"\n                placeholderTextColor={colors.textSecondary}\n                value={password}\n                onChangeText={setPassword}\n                secureTextEntry={!showPassword}\n                autoCapitalize=\"none\"\n                autoComplete=\"password-new\"\n              />\n              <Pressable\n                style={styles.eyeIcon}\n                onPress={() => setShowPassword(!showPassword)}\n              >\n                <MaterialCommunityIcons\n                  name={showPassword ? 'eye-off' : 'eye'}\n                  size={24}\n                  color={colors.textSecondary}\n                />\n              </Pressable>\n            </View>\n          </View>\n\n          <View style={styles.inputContainer}>\n            <ThemedText style={[styles.label, { color: colors.text }]}>Confirm Password</ThemedText>\n            <View style={styles.passwordContainer}>\n              <TextInput\n                style={[styles.input, styles.passwordInput, { \n                  backgroundColor: colors.surface, \n                  borderColor: colors.border,\n                  color: colors.text \n                }]}\n                placeholder=\"Confirm your password\"\n                placeholderTextColor={colors.textSecondary}\n                value={confirmPassword}\n                onChangeText={setConfirmPassword}\n                secureTextEntry={!showConfirmPassword}\n                autoCapitalize=\"none\"\n                autoComplete=\"password-new\"\n              />\n              <Pressable\n                style={styles.eyeIcon}\n                onPress={() => setShowConfirmPassword(!showConfirmPassword)}\n              >\n                <MaterialCommunityIcons\n                  name={showConfirmPassword ? 'eye-off' : 'eye'}\n                  size={24}\n                  color={colors.textSecondary}\n                />\n              </Pressable>\n            </View>\n          </View>\n\n          <Pressable\n            style={[styles.button, { backgroundColor: colors.primary }]}\n            onPress={handleRegister}\n            disabled={loading}\n          >\n            <ThemedText style={[styles.buttonText, { color: '#FFFFFF' }]}>\n              {loading ? 'Creating Account...' : 'Create Account'}\n            </ThemedText>\n          </Pressable>\n\n          <View style={styles.footer}>\n            <ThemedText style={[styles.footerText, { color: colors.textSecondary }]}>\n              Already have an account?{' '}\n            </ThemedText>\n            <Pressable onPress={() => navigation.goBack()}>\n              <ThemedText style={[styles.link, { color: colors.primary }]}>\n                Sign In\n              </ThemedText>\n            </Pressable>\n          </View>\n        </View>\n      </View>\n    </ScreenKeyboardAwareScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexGrow: 1,\n  },\n  content: {\n    flex: 1,\n    paddingHorizontal: Spacing['2xl'],\n    paddingTop: Spacing['3xl'],\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: '700',\n    marginBottom: Spacing.sm,\n  },\n  subtitle: {\n    fontSize: 16,\n    marginBottom: Spacing['2xl'],\n  },\n  form: {\n    gap: Spacing.lg,\n  },\n  inputContainer: {\n    gap: Spacing.sm,\n  },\n  label: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n  },\n  passwordContainer: {\n    position: 'relative',\n  },\n  passwordInput: {\n    paddingRight: 50,\n  },\n  eyeIcon: {\n    position: 'absolute',\n    right: Spacing.lg,\n    top: 12,\n  },\n  button: {\n    height: Spacing.buttonHeight,\n    borderRadius: BorderRadius.xs,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: Spacing.lg,\n  },\n  buttonText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: Spacing.lg,\n  },\n  footerText: {\n    fontSize: 14,\n  },\n  link: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n});\n","size_bytes":8142},"navigation/HomeStackNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport HomeScreen from \"@/screens/HomeScreen\";\nimport { HeaderTitle } from \"@/components/HeaderTitle\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { getCommonScreenOptions } from \"@/navigation/screenOptions\";\n\nexport type HomeStackParamList = {\n  Home: undefined;\n};\n\nconst Stack = createNativeStackNavigator<HomeStackParamList>();\n\nexport default function HomeStackNavigator() {\n  const { theme, isDark } = useTheme();\n\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        ...getCommonScreenOptions({ theme, isDark }),\n      }}\n    >\n      <Stack.Screen\n        name=\"Home\"\n        component={HomeScreen}\n        options={{\n          headerTitle: () => <HeaderTitle title=\"HydroTrack\" />,\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","size_bytes":862},"screens/LoginScreen.tsx":{"content":"import { useState } from 'react';\nimport { View, StyleSheet, TextInput, Pressable, Alert } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport { ScreenKeyboardAwareScrollView } from '../components/ScreenKeyboardAwareScrollView';\nimport { ThemedText } from '../components/ThemedText';\nimport { useTheme } from '../hooks/useTheme';\nimport { useAuth } from '../hooks/useAuth';\nimport { Spacing, BorderRadius } from '../constants/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\ntype RootStackParamList = {\n  Login: undefined;\n  Register: undefined;\n  MainTabs: undefined;\n};\n\nexport function LoginScreen() {\n  const navigation = useNavigation<NativeStackNavigationProp<RootStackParamList>>();\n  const { colors } = useTheme();\n  const { login } = useAuth();\n  \n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = async () => {\n    if (!email || !password) {\n      Alert.alert('Error', 'Please fill in all fields');\n      return;\n    }\n\n    setLoading(true);\n    const success = await login(email, password);\n    setLoading(false);\n\n    if (success) {\n      navigation.replace('MainTabs');\n    } else {\n      Alert.alert('Error', 'Invalid email or password. Please register if you don\\'t have an account.');\n    }\n  };\n\n  return (\n    <ScreenKeyboardAwareScrollView contentContainerStyle={styles.container}>\n      <View style={styles.content}>\n        <ThemedText style={[styles.title, { color: colors.text }]}>\n          Welcome Back\n        </ThemedText>\n        <ThemedText style={[styles.subtitle, { color: colors.textSecondary }]}>\n          Sign in to continue tracking your water intake\n        </ThemedText>\n\n        <View style={styles.form}>\n          <View style={styles.inputContainer}>\n            <ThemedText style={[styles.label, { color: colors.text }]}>Email</ThemedText>\n            <TextInput\n              style={[styles.input, { \n                backgroundColor: colors.surface, \n                borderColor: colors.border,\n                color: colors.text \n              }]}\n              placeholder=\"Enter your email\"\n              placeholderTextColor={colors.textSecondary}\n              value={email}\n              onChangeText={setEmail}\n              keyboardType=\"email-address\"\n              autoCapitalize=\"none\"\n              autoComplete=\"email\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <ThemedText style={[styles.label, { color: colors.text }]}>Password</ThemedText>\n            <View style={styles.passwordContainer}>\n              <TextInput\n                style={[styles.input, styles.passwordInput, { \n                  backgroundColor: colors.surface, \n                  borderColor: colors.border,\n                  color: colors.text \n                }]}\n                placeholder=\"Enter your password\"\n                placeholderTextColor={colors.textSecondary}\n                value={password}\n                onChangeText={setPassword}\n                secureTextEntry={!showPassword}\n                autoCapitalize=\"none\"\n                autoComplete=\"password\"\n              />\n              <Pressable\n                style={styles.eyeIcon}\n                onPress={() => setShowPassword(!showPassword)}\n              >\n                <MaterialCommunityIcons\n                  name={showPassword ? 'eye-off' : 'eye'}\n                  size={24}\n                  color={colors.textSecondary}\n                />\n              </Pressable>\n            </View>\n          </View>\n\n          <Pressable\n            style={[styles.button, { backgroundColor: colors.primary }]}\n            onPress={handleLogin}\n            disabled={loading}\n          >\n            <ThemedText style={[styles.buttonText, { color: '#FFFFFF' }]}>\n              {loading ? 'Signing In...' : 'Sign In'}\n            </ThemedText>\n          </Pressable>\n\n          <View style={styles.footer}>\n            <ThemedText style={[styles.footerText, { color: colors.textSecondary }]}>\n              Don't have an account?{' '}\n            </ThemedText>\n            <Pressable onPress={() => navigation.navigate('Register')}>\n              <ThemedText style={[styles.link, { color: colors.primary }]}>\n                Register\n              </ThemedText>\n            </Pressable>\n          </View>\n        </View>\n      </View>\n    </ScreenKeyboardAwareScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexGrow: 1,\n  },\n  content: {\n    flex: 1,\n    paddingHorizontal: Spacing['2xl'],\n    paddingTop: Spacing['4xl'],\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: '700',\n    marginBottom: Spacing.sm,\n  },\n  subtitle: {\n    fontSize: 16,\n    marginBottom: Spacing['3xl'],\n  },\n  form: {\n    gap: Spacing.lg,\n  },\n  inputContainer: {\n    gap: Spacing.sm,\n  },\n  label: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n  },\n  passwordContainer: {\n    position: 'relative',\n  },\n  passwordInput: {\n    paddingRight: 50,\n  },\n  eyeIcon: {\n    position: 'absolute',\n    right: Spacing.lg,\n    top: 12,\n  },\n  button: {\n    height: Spacing.buttonHeight,\n    borderRadius: BorderRadius.xs,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: Spacing.lg,\n  },\n  buttonText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: Spacing.lg,\n  },\n  footerText: {\n    fontSize: 14,\n  },\n  link: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n});\n","size_bytes":5877},"hooks/useColorScheme.ts":{"content":"import { useColorScheme as useColorSchemeRN } from \"react-native\";\nimport { useState, useEffect } from \"react\";\nimport { StorageService } from \"../utils/storage\";\n\nexport function useColorScheme() {\n  const systemColorScheme = useColorSchemeRN();\n  const [colorScheme, setColorScheme] = useState<\"light\" | \"dark\">(systemColorScheme === \"dark\" ? \"dark\" : \"light\");\n\n  useEffect(() => {\n    loadTheme();\n  }, []);\n\n  const loadTheme = async () => {\n    const savedTheme = await StorageService.getTheme();\n    if (savedTheme) {\n      setColorScheme(savedTheme);\n    }\n  };\n\n  const toggleColorScheme = async () => {\n    const newScheme = colorScheme === \"dark\" ? \"light\" : \"dark\";\n    setColorScheme(newScheme);\n    await StorageService.saveTheme(newScheme);\n  };\n\n  return { colorScheme, toggleColorScheme };\n}\n","size_bytes":809},"navigation/MainTabNavigator.tsx":{"content":"import React from \"react\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { BlurView } from \"expo-blur\";\nimport { Platform, StyleSheet } from \"react-native\";\nimport HomeStackNavigator from \"@/navigation/HomeStackNavigator\";\nimport { HistoryStackNavigator } from \"@/navigation/HistoryStackNavigator\";\nimport ProfileStackNavigator from \"@/navigation/ProfileStackNavigator\";\nimport { useTheme } from \"@/hooks/useTheme\";\n\nexport type MainTabParamList = {\n  HomeTab: undefined;\n  HistoryTab: undefined;\n  ProfileTab: undefined;\n};\n\nconst Tab = createBottomTabNavigator<MainTabParamList>();\n\nexport default function MainTabNavigator() {\n  const { theme, isDark } = useTheme();\n\n  return (\n    <Tab.Navigator\n      initialRouteName=\"HomeTab\"\n      screenOptions={{\n        tabBarActiveTintColor: theme.tabIconSelected,\n        tabBarInactiveTintColor: theme.tabIconDefault,\n        tabBarStyle: {\n          position: \"absolute\",\n          backgroundColor: Platform.select({\n            ios: \"transparent\",\n            android: theme.backgroundRoot,\n          }),\n          borderTopWidth: 0,\n          elevation: 0,\n        },\n        tabBarBackground: () =>\n          Platform.OS === \"ios\" ? (\n            <BlurView\n              intensity={100}\n              tint={isDark ? \"dark\" : \"light\"}\n              style={StyleSheet.absoluteFill}\n            />\n          ) : null,\n        headerShown: false,\n      }}\n    >\n      <Tab.Screen\n        name=\"HomeTab\"\n        component={HomeStackNavigator}\n        options={{\n          title: \"Home\",\n          tabBarIcon: ({ color, size }) => (\n            <MaterialCommunityIcons name=\"water-outline\" size={size} color={color} />\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"HistoryTab\"\n        component={HistoryStackNavigator}\n        options={{\n          title: \"History\",\n          tabBarIcon: ({ color, size }) => (\n            <MaterialCommunityIcons name=\"calendar-clock\" size={size} color={color} />\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"ProfileTab\"\n        component={ProfileStackNavigator}\n        options={{\n          title: \"Profile\",\n          tabBarIcon: ({ color, size }) => (\n            <MaterialCommunityIcons name=\"account-circle-outline\" size={size} color={color} />\n          ),\n        }}\n      />\n    </Tab.Navigator>\n  );\n}\n","size_bytes":2426},"screens/HistoryScreen.tsx":{"content":"import { View, StyleSheet, Pressable } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport Svg, { Rect, Line, Text as SvgText } from 'react-native-svg';\nimport { ThemedText } from '../components/ThemedText';\nimport { ScreenScrollView } from '../components/ScreenScrollView';\nimport { useWaterTracking } from '../hooks/useWaterTracking';\nimport { useTheme } from '../hooks/useTheme';\nimport { Spacing, BorderRadius } from '../constants/theme';\nimport React, { useState, useMemo } from 'react';\n\ntype ViewMode = 'daily' | 'weekly' | 'monthly';\n\nexport function HistoryScreen() {\n  const { colors } = useTheme();\n  const { getHistoricalData, dailyGoal } = useWaterTracking();\n  const [viewMode, setViewMode] = useState<ViewMode>('daily');\n  \n  const historicalData = getHistoricalData();\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { \n      month: 'short', \n      day: 'numeric',\n      year: 'numeric' \n    });\n  };\n\n  const getPercentage = (total: number) => {\n    if (dailyGoal <= 0) return 0;\n    return Math.round((total / dailyGoal) * 100);\n  };\n\n  const calculateStats = () => {\n    if (historicalData.length === 0) {\n      return { average: 0, bestDay: 0, currentStreak: 0 };\n    }\n\n    const total = historicalData.reduce((sum, day) => sum + day.total, 0);\n    const average = Math.round(total / historicalData.length);\n    const bestDay = Math.max(...historicalData.map(d => d.total));\n\n    let currentStreak = 0;\n    const today = new Date().toISOString().split('T')[0];\n    let checkDate = new Date(today);\n    \n    for (let i = 0; i < 30; i++) {\n      const dateStr = checkDate.toISOString().split('T')[0];\n      const dayData = historicalData.find(d => d.date === dateStr);\n      \n      if (dayData && dayData.total >= dailyGoal) {\n        currentStreak++;\n      } else {\n        break;\n      }\n      \n      checkDate.setDate(checkDate.getDate() - 1);\n    }\n\n    return { average, bestDay, currentStreak };\n  };\n\n  const stats = calculateStats();\n\n  const getWeeklyData = () => {\n    const weeks: { label: string; total: number; average: number }[] = [];\n    const today = new Date();\n    \n    for (let i = 0; i < 4; i++) {\n      const weekEnd = new Date(today);\n      weekEnd.setDate(today.getDate() - (i * 7));\n      const weekStart = new Date(weekEnd);\n      weekStart.setDate(weekEnd.getDate() - 6);\n      \n      let weekTotal = 0;\n      let daysWithData = 0;\n      \n      for (let d = new Date(weekStart); d <= weekEnd; d.setDate(d.getDate() + 1)) {\n        const dateStr = d.toISOString().split('T')[0];\n        const dayData = historicalData.find(day => day.date === dateStr);\n        if (dayData) {\n          weekTotal += dayData.total;\n          daysWithData++;\n        }\n      }\n      \n      const weekAverage = daysWithData > 0 ? Math.round(weekTotal / 7) : 0;\n      const weekLabel = i === 0 ? 'This Week' : `${i} Week${i > 1 ? 's' : ''} Ago`;\n      \n      weeks.unshift({ label: weekLabel, total: weekTotal, average: weekAverage });\n    }\n    \n    return weeks;\n  };\n\n  const getMonthlyData = () => {\n    const months: { label: string; total: number; average: number }[] = [];\n    const today = new Date();\n    \n    for (let i = 0; i < 6; i++) {\n      const monthDate = new Date(today.getFullYear(), today.getMonth() - i, 1);\n      const monthStart = new Date(monthDate.getFullYear(), monthDate.getMonth(), 1);\n      const monthEnd = new Date(monthDate.getFullYear(), monthDate.getMonth() + 1, 0);\n      \n      let monthTotal = 0;\n      let daysInMonth = monthEnd.getDate();\n      \n      for (let d = new Date(monthStart); d <= monthEnd; d.setDate(d.getDate() + 1)) {\n        const dateStr = d.toISOString().split('T')[0];\n        const dayData = historicalData.find(day => day.date === dateStr);\n        if (dayData) {\n          monthTotal += dayData.total;\n        }\n      }\n      \n      const monthAverage = Math.round(monthTotal / daysInMonth);\n      const monthLabel = monthDate.toLocaleDateString('en-US', { month: 'short', year: i > 0 ? '2-digit' : undefined });\n      \n      months.unshift({ label: monthLabel, total: monthTotal, average: monthAverage });\n    }\n    \n    return months;\n  };\n\n  const weeklyData = useMemo(() => getWeeklyData(), [historicalData]);\n  const monthlyData = useMemo(() => getMonthlyData(), [historicalData]);\n\n  const renderBarChart = (data: { label: string; average: number }[]) => {\n    if (dailyGoal <= 0) {\n      return (\n        <View style={styles.chartContainer}>\n          <ThemedText style={[styles.emptyText, { color: colors.textSecondary }]}>\n            Set a daily goal in your profile to see chart visualizations\n          </ThemedText>\n        </View>\n      );\n    }\n\n    const chartHeight = 180;\n    const chartWidth = 320;\n    const barWidth = (chartWidth - 40) / data.length;\n    const maxValue = Math.max(...data.map(d => d.average), dailyGoal, 1);\n    const scale = (chartHeight - 40) / maxValue;\n    const goalLineY = chartHeight - 20 - (dailyGoal * scale);\n\n    return (\n      <View style={styles.chartContainer}>\n        <Svg height={chartHeight} width={chartWidth}>\n          <Line\n            x1=\"20\"\n            y1={goalLineY}\n            x2={chartWidth - 20}\n            y2={goalLineY}\n            stroke={colors.success}\n            strokeWidth=\"1\"\n            strokeDasharray=\"4,4\"\n          />\n          <SvgText\n            x=\"24\"\n            y={goalLineY - 4}\n            fill={colors.success}\n            fontSize=\"10\"\n            fontWeight=\"600\"\n          >\n            Goal\n          </SvgText>\n          \n          {data.map((item, index) => {\n            const barHeight = item.average * scale;\n            const x = 20 + (index * barWidth) + (barWidth / 4);\n            const y = chartHeight - 20 - barHeight;\n            const isGoalMet = item.average >= dailyGoal;\n            \n            return (\n              <React.Fragment key={index}>\n                <Rect\n                  x={x}\n                  y={y}\n                  width={barWidth / 2}\n                  height={barHeight}\n                  fill={isGoalMet ? colors.success : colors.primary}\n                  rx=\"3\"\n                />\n                <SvgText\n                  x={x + barWidth / 4}\n                  y={chartHeight - 4}\n                  fill={colors.textSecondary}\n                  fontSize=\"10\"\n                  textAnchor=\"middle\"\n                >\n                  {item.label.length > 8 ? item.label.substring(0, 8) : item.label}\n                </SvgText>\n                <SvgText\n                  x={x + barWidth / 4}\n                  y={y - 4}\n                  fill={colors.text}\n                  fontSize=\"10\"\n                  fontWeight=\"600\"\n                  textAnchor=\"middle\"\n                >\n                  {item.average}\n                </SvgText>\n              </React.Fragment>\n            );\n          })}\n        </Svg>\n      </View>\n    );\n  };\n\n  return (\n    <ScreenScrollView contentContainerStyle={styles.container}>\n      <View style={styles.viewModeToggle}>\n        {(['daily', 'weekly', 'monthly'] as ViewMode[]).map((mode) => (\n          <Pressable\n            key={mode}\n            style={({ pressed }) => [\n              styles.viewModeButton,\n              viewMode === mode && { backgroundColor: colors.primary },\n              { borderColor: colors.border },\n              pressed && { opacity: 0.7 },\n            ]}\n            onPress={() => setViewMode(mode)}\n          >\n            <ThemedText\n              style={[\n                styles.viewModeText,\n                { color: viewMode === mode ? '#FFFFFF' : colors.textSecondary },\n              ]}\n            >\n              {mode.charAt(0).toUpperCase() + mode.slice(1)}\n            </ThemedText>\n          </Pressable>\n        ))}\n      </View>\n      <View style={styles.statsSection}>\n        <View style={[styles.statCard, { backgroundColor: colors.surface, borderColor: colors.border }]}>\n          <MaterialCommunityIcons name=\"chart-line\" size={24} color={colors.primary} />\n          <ThemedText style={[styles.statValue, { color: colors.text }]}>\n            {stats.average} ml\n          </ThemedText>\n          <ThemedText style={[styles.statLabel, { color: colors.textSecondary }]}>\n            Daily Average\n          </ThemedText>\n        </View>\n\n        <View style={[styles.statCard, { backgroundColor: colors.surface, borderColor: colors.border }]}>\n          <MaterialCommunityIcons name=\"trophy\" size={24} color={colors.success} />\n          <ThemedText style={[styles.statValue, { color: colors.text }]}>\n            {stats.bestDay} ml\n          </ThemedText>\n          <ThemedText style={[styles.statLabel, { color: colors.textSecondary }]}>\n            Best Day\n          </ThemedText>\n        </View>\n\n        <View style={[styles.statCard, { backgroundColor: colors.surface, borderColor: colors.border }]}>\n          <MaterialCommunityIcons name=\"fire\" size={24} color={colors.secondary} />\n          <ThemedText style={[styles.statValue, { color: colors.text }]}>\n            {stats.currentStreak}\n          </ThemedText>\n          <ThemedText style={[styles.statLabel, { color: colors.textSecondary }]}>\n            Day Streak\n          </ThemedText>\n        </View>\n      </View>\n\n      {viewMode === 'weekly' ? (\n        <View style={styles.chartSection}>\n          <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n            Weekly Average Intake\n          </ThemedText>\n          {renderBarChart(weeklyData)}\n          <View style={styles.legendContainer}>\n            <View style={styles.legendItem}>\n              <View style={[styles.legendBox, { backgroundColor: colors.primary }]} />\n              <ThemedText style={[styles.legendText, { color: colors.textSecondary }]}>\n                Below Goal\n              </ThemedText>\n            </View>\n            <View style={styles.legendItem}>\n              <View style={[styles.legendBox, { backgroundColor: colors.success }]} />\n              <ThemedText style={[styles.legendText, { color: colors.textSecondary }]}>\n                Goal Met\n              </ThemedText>\n            </View>\n          </View>\n        </View>\n      ) : viewMode === 'monthly' ? (\n        <View style={styles.chartSection}>\n          <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n            Monthly Average Intake\n          </ThemedText>\n          {renderBarChart(monthlyData)}\n          <View style={styles.legendContainer}>\n            <View style={styles.legendItem}>\n              <View style={[styles.legendBox, { backgroundColor: colors.primary }]} />\n              <ThemedText style={[styles.legendText, { color: colors.textSecondary }]}>\n                Below Goal\n              </ThemedText>\n            </View>\n            <View style={styles.legendItem}>\n              <View style={[styles.legendBox, { backgroundColor: colors.success }]} />\n              <ThemedText style={[styles.legendText, { color: colors.textSecondary }]}>\n                Goal Met\n              </ThemedText>\n            </View>\n          </View>\n        </View>\n      ) : null}\n\n      <View style={styles.historySection}>\n        <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n          {viewMode === 'daily' ? 'History' : 'Detailed Statistics'}\n        </ThemedText>\n        {viewMode === 'daily' && historicalData.length === 0 ? (\n          <ThemedText style={[styles.emptyText, { color: colors.textSecondary }]}>\n            No history yet. Start tracking your water intake!\n          </ThemedText>\n        ) : null}\n        \n        {viewMode === 'daily' && historicalData.length > 0 ? (\n          <View style={styles.historyList}>\n            {historicalData.map((day) => {\n              const percentage = getPercentage(day.total);\n              const isGoalMet = day.total >= dailyGoal;\n              \n              return (\n                <View \n                  key={day.date} \n                  style={[styles.historyCard, { backgroundColor: colors.surface, borderColor: colors.border }]}\n                >\n                  <View style={styles.historyHeader}>\n                    <View style={styles.historyDateContainer}>\n                      <ThemedText style={[styles.historyDate, { color: colors.text }]}>\n                        {formatDate(day.date)}\n                      </ThemedText>\n                      {isGoalMet ? (\n                        <MaterialCommunityIcons \n                          name=\"check-circle\" \n                          size={18} \n                          color={colors.success} \n                        />\n                      ) : null}\n                    </View>\n                    <ThemedText style={[styles.historyAmount, { color: colors.text }]}>\n                      {day.total} ml\n                    </ThemedText>\n                  </View>\n                  <View style={[styles.progressBar, { backgroundColor: colors.border }]}>\n                    <View \n                      style={[\n                        styles.progressFill, \n                        { \n                          backgroundColor: isGoalMet ? colors.success : colors.primary,\n                          width: dailyGoal > 0 ? `${Math.min(percentage, 100)}%` : '0%'\n                        }\n                      ]} \n                    />\n                  </View>\n                  <ThemedText style={[styles.percentageText, { color: colors.textSecondary }]}>\n                    {percentage}% of daily goal\n                  </ThemedText>\n                </View>\n              );\n            })}\n          </View>\n        ) : null}\n        \n        {viewMode === 'weekly' ? (\n          <View style={styles.historyList}>\n            {weeklyData.map((week, index) => (\n              <View \n                key={index} \n                style={[styles.historyCard, { backgroundColor: colors.surface, borderColor: colors.border }]}\n              >\n                <View style={styles.historyHeader}>\n                  <ThemedText style={[styles.historyDate, { color: colors.text }]}>\n                    {week.label}\n                  </ThemedText>\n                  <ThemedText style={[styles.historyAmount, { color: colors.text }]}>\n                    {week.average} ml avg\n                  </ThemedText>\n                </View>\n                <View style={[styles.progressBar, { backgroundColor: colors.border }]}>\n                  <View \n                    style={[\n                      styles.progressFill, \n                      { \n                        backgroundColor: dailyGoal > 0 && week.average >= dailyGoal ? colors.success : colors.primary,\n                        width: dailyGoal > 0 ? `${Math.min((week.average / dailyGoal) * 100, 100)}%` : '0%'\n                      }\n                    ]} \n                  />\n                </View>\n                <ThemedText style={[styles.percentageText, { color: colors.textSecondary }]}>\n                  Total: {week.total} ml\n                </ThemedText>\n              </View>\n            ))}\n          </View>\n        ) : null}\n        \n        {viewMode === 'monthly' ? (\n          <View style={styles.historyList}>\n            {monthlyData.map((month, index) => (\n              <View \n                key={index} \n                style={[styles.historyCard, { backgroundColor: colors.surface, borderColor: colors.border }]}\n              >\n                <View style={styles.historyHeader}>\n                  <ThemedText style={[styles.historyDate, { color: colors.text }]}>\n                    {month.label}\n                  </ThemedText>\n                  <ThemedText style={[styles.historyAmount, { color: colors.text }]}>\n                    {month.average} ml avg\n                  </ThemedText>\n                </View>\n                <View style={[styles.progressBar, { backgroundColor: colors.border }]}>\n                  <View \n                    style={[\n                      styles.progressFill, \n                      { \n                        backgroundColor: dailyGoal > 0 && month.average >= dailyGoal ? colors.success : colors.primary,\n                        width: dailyGoal > 0 ? `${Math.min((month.average / dailyGoal) * 100, 100)}%` : '0%'\n                      }\n                    ]} \n                  />\n                </View>\n                <ThemedText style={[styles.percentageText, { color: colors.textSecondary }]}>\n                  Total: {month.total} ml\n                </ThemedText>\n              </View>\n            ))}\n          </View>\n        ) : null}\n      </View>\n    </ScreenScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingHorizontal: Spacing['2xl'],\n    paddingBottom: Spacing['4xl'],\n  },\n  viewModeToggle: {\n    flexDirection: 'row',\n    gap: Spacing.sm,\n    marginBottom: Spacing.lg,\n  },\n  viewModeButton: {\n    flex: 1,\n    paddingVertical: Spacing.sm,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n    alignItems: 'center',\n  },\n  viewModeText: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  chartSection: {\n    marginBottom: Spacing['2xl'],\n  },\n  chartContainer: {\n    alignItems: 'center',\n    marginVertical: Spacing.lg,\n  },\n  legendContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    gap: Spacing.lg,\n    marginTop: Spacing.md,\n  },\n  legendItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  legendBox: {\n    width: 16,\n    height: 16,\n    borderRadius: 4,\n  },\n  legendText: {\n    fontSize: 12,\n  },\n  statsSection: {\n    flexDirection: 'row',\n    gap: Spacing.md,\n    marginBottom: Spacing['2xl'],\n  },\n  statCard: {\n    flex: 1,\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n    alignItems: 'center',\n  },\n  statValue: {\n    fontSize: 18,\n    fontWeight: '700',\n    marginTop: Spacing.sm,\n  },\n  statLabel: {\n    fontSize: 12,\n    marginTop: 4,\n    textAlign: 'center',\n  },\n  historySection: {},\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n    marginBottom: Spacing.lg,\n  },\n  emptyText: {\n    fontSize: 14,\n    textAlign: 'center',\n    marginTop: Spacing.lg,\n  },\n  historyList: {\n    gap: Spacing.md,\n  },\n  historyCard: {\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n  },\n  historyHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: Spacing.sm,\n  },\n  historyDateContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  historyDate: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  historyAmount: {\n    fontSize: 16,\n    fontWeight: '700',\n  },\n  progressBar: {\n    height: 6,\n    borderRadius: 3,\n    overflow: 'hidden',\n    marginBottom: Spacing.sm,\n  },\n  progressFill: {\n    height: '100%',\n  },\n  percentageText: {\n    fontSize: 12,\n  },\n});\n","size_bytes":18939},"components/ThemedView.tsx":{"content":"import { View, type ViewProps } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\n\nexport type ThemedViewProps = ViewProps & {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport function ThemedView({\n  style,\n  lightColor,\n  darkColor,\n  ...otherProps\n}: ThemedViewProps) {\n  const { theme, isDark } = useTheme();\n\n  const backgroundColor =\n    isDark && darkColor\n      ? darkColor\n      : !isDark && lightColor\n        ? lightColor\n        : theme.backgroundRoot;\n\n  return <View style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","size_bytes":563},"README.md":{"content":"# HydroTrack - Water Drinking Tracking App\n\nA beautiful, user-friendly mobile app built with React Native and Expo for tracking daily water intake with local storage persistence.\n\n## Features\n\n### Core Functionality\n- **Water Intake Tracking**: Log water consumption with quick-add buttons (250ml, 500ml, 750ml, 1000ml) or custom amounts\n- **Circular Progress Indicator**: Visual representation of daily water intake progress\n- **Daily Goal Management**: Set and adjust personalized daily water intake goals\n- **History & Analytics**: View historical water consumption data with statistics\n- **Local Storage**: All data persists locally using AsyncStorage\n\n### User Experience\n- **Authentication**: Secure login and registration system with local storage\n- **Splash Screen**: Branded splash screen with smooth animations\n- **Dark & Light Mode**: Full theme support with persistent user preference\n- **Avatar Selection**: Choose from water-themed avatar presets\n- **Profile Management**: Manage account settings, daily goals, and preferences\n\n### Design\n- **Modern UI**: Clean, water-themed interface following iOS liquid glass design principles\n- **Responsive Layout**: Optimized for mobile devices with proper safe area handling\n- **Interactive Elements**: All buttons and controls have proper press states and visual feedback\n- **Progress Tracking**: See daily streak, best day, and average intake statistics\n\n## Technology Stack\n\n- **Framework**: React Native with Expo SDK 54\n- **Navigation**: React Navigation 7\n- **State Management**: React Context API\n- **Storage**: AsyncStorage for local data persistence\n- **UI Components**: Custom components with Material Community Icons\n- **Animations**: React Native Reanimated for smooth transitions\n- **TypeScript**: Full type safety throughout the application\n\n## File Structure\n\n```\nHydroTrack/\nâ”œâ”€â”€ assets/\nâ”‚   â””â”€â”€ images/\nâ”‚       â”œâ”€â”€ icon.png                    # App icon\nâ”‚       â”œâ”€â”€ splash-icon.png             # Splash screen icon\nâ”‚       â”œâ”€â”€ favicon.png                 # Web favicon\nâ”‚       â””â”€â”€ avatars/                    # User avatar presets\nâ”‚           â”œâ”€â”€ avatar-waves.png\nâ”‚           â”œâ”€â”€ avatar-ripples.png\nâ”‚           â””â”€â”€ avatar-droplets.png\nâ”œâ”€â”€ components/\nâ”‚   â”œâ”€â”€ Button.tsx                      # Reusable button component\nâ”‚   â”œâ”€â”€ Card.tsx                        # Card component with elevation\nâ”‚   â”œâ”€â”€ CircularProgress.tsx            # Circular progress indicator\nâ”‚   â”œâ”€â”€ ErrorBoundary.tsx               # Error boundary wrapper\nâ”‚   â”œâ”€â”€ ErrorFallback.tsx               # Error fallback UI\nâ”‚   â”œâ”€â”€ HeaderTitle.tsx                 # Custom header title component\nâ”‚   â”œâ”€â”€ ScreenFlatList.tsx              # Screen-level FlatList with safe areas\nâ”‚   â”œâ”€â”€ ScreenKeyboardAwareScrollView.tsx # Keyboard-aware scroll view\nâ”‚   â”œâ”€â”€ ScreenScrollView.tsx            # Screen-level ScrollView with safe areas\nâ”‚   â”œâ”€â”€ Spacer.tsx                      # Spacing component\nâ”‚   â”œâ”€â”€ ThemedText.tsx                  # Themed text component\nâ”‚   â”œâ”€â”€ ThemedView.tsx                  # Themed view component\nâ”‚   â””â”€â”€ WaterLogCard.tsx                # Water log entry card\nâ”œâ”€â”€ constants/\nâ”‚   â””â”€â”€ theme.ts                        # Theme constants (colors, spacing, typography)\nâ”œâ”€â”€ hooks/\nâ”‚   â”œâ”€â”€ useAuth.tsx                     # Authentication context and hook\nâ”‚   â”œâ”€â”€ useColorScheme.ts               # Color scheme management\nâ”‚   â”œâ”€â”€ useScreenInsets.ts              # Safe area insets helper\nâ”‚   â”œâ”€â”€ useTheme.ts                     # Theme hook\nâ”‚   â””â”€â”€ useWaterTracking.tsx            # Water tracking context and hook\nâ”œâ”€â”€ navigation/\nâ”‚   â”œâ”€â”€ HistoryStackNavigator.tsx       # History tab stack\nâ”‚   â”œâ”€â”€ HomeStackNavigator.tsx          # Home tab stack\nâ”‚   â”œâ”€â”€ MainTabNavigator.tsx            # Bottom tab navigator\nâ”‚   â”œâ”€â”€ ProfileStackNavigator.tsx       # Profile tab stack\nâ”‚   â”œâ”€â”€ RootNavigator.tsx               # Root navigation with auth flow\nâ”‚   â””â”€â”€ screenOptions.ts                # Shared screen options\nâ”œâ”€â”€ screens/\nâ”‚   â”œâ”€â”€ HistoryScreen.tsx               # Water consumption history\nâ”‚   â”œâ”€â”€ HomeScreen.tsx                  # Main dashboard\nâ”‚   â”œâ”€â”€ LoginScreen.tsx                 # Login screen\nâ”‚   â”œâ”€â”€ ProfileScreen.tsx               # User profile and settings\nâ”‚   â”œâ”€â”€ RegisterScreen.tsx              # Registration screen\nâ”‚   â””â”€â”€ SplashScreen.tsx                # Initial splash screen\nâ”œâ”€â”€ utils/\nâ”‚   â””â”€â”€ storage.ts                      # AsyncStorage helper functions\nâ”œâ”€â”€ App.tsx                             # App entry point\nâ”œâ”€â”€ app.json                            # Expo configuration\nâ”œâ”€â”€ package.json                        # Dependencies\nâ””â”€â”€ tsconfig.json                       # TypeScript configuration\n```\n\n## Installation & Setup\n\n### Prerequisites\n- Node.js (v18 or higher)\n- Expo CLI\n- Expo Go app on your mobile device (for testing)\n\n### Steps to Run\n\n1. **Clone or download the project**\n\n2. **Install dependencies:**\n   ```bash\n   npm install\n   ```\n\n3. **Start the development server:**\n   ```bash\n   npm run dev\n   ```\n\n4. **Test on your device:**\n   - Scan the QR code with Expo Go app (Android)\n   - Scan the QR code with Camera app (iOS)\n\n## How to Use\n\n### First Time Setup\n1. Launch the app - you'll see the splash screen\n2. Register a new account with your name, email, and password\n3. Set your daily water intake goal (default: 2000ml)\n4. Choose your avatar from the profile page\n\n### Daily Usage\n1. **Log Water Intake:**\n   - Use quick-add buttons for common amounts (250ml, 500ml, 750ml, 1000ml)\n   - Tap the floating + button for custom amounts\n   - View your progress on the circular indicator\n\n2. **Track Progress:**\n   - Home tab shows today's intake and logs\n   - History tab displays past consumption with statistics\n   - See your streak, best day, and average intake\n\n3. **Manage Settings:**\n   - Profile tab for account settings\n   - Switch between dark/light mode\n   - Adjust daily water goal\n   - Change avatar\n   - Logout or delete account\n\n## Data Storage\n\nAll data is stored locally on your device using AsyncStorage:\n- **User Account**: Name, email, avatar preference, daily goal\n- **Water Logs**: All water intake entries with timestamps\n- **Theme Preference**: Dark/light mode selection\n\n**Note:** Data is tied to your device. Logging out or deleting your account will clear all data.\n\n## Android Studio Compatibility\n\nThis is an Expo project that can be tested in Android Studio emulator or physical devices:\n\n1. **For Android Studio Emulator:**\n   - Open Android Studio\n   - Start an Android Virtual Device (AVD)\n   - Run `npm run dev`\n   - Press 'a' in the terminal to open in Android emulator\n\n2. **For Physical Android Device:**\n   - Install Expo Go from Google Play Store\n   - Ensure device and computer are on same network\n   - Scan QR code from terminal\n\n## Customization\n\n### Changing Colors\nEdit `constants/theme.ts` to customize the color scheme:\n- Primary colors\n- Background colors\n- Text colors\n- Success/error colors\n\n### Modifying Daily Goal Default\nUpdate the default value in `hooks/useWaterTracking.tsx` and `hooks/useAuth.tsx`\n\n### Adding More Avatar Options\n1. Add new avatar images to `assets/images/avatars/`\n2. Update the AVATARS array in `screens/ProfileScreen.tsx`\n\n## Known Limitations\n\n- Data is stored locally only (no cloud sync)\n- No notification reminders (can be added with expo-notifications)\n- Single user per device (no multi-user support)\n- No export/import functionality (can be added)\n\n## Future Enhancements\n\n- Push notification reminders at scheduled intervals\n- Weekly and monthly analytics charts\n- Export data to CSV or PDF\n- Achievement badges and milestones\n- Customizable cup sizes\n- Integration with health apps\n- Cloud backup and sync\n\n## Support\n\nFor issues or questions, please ensure you have:\n- Latest version of Node.js and Expo CLI\n- All dependencies properly installed\n- Expo Go app updated to the latest version\n\n## License\n\nThis project is created as a demonstration app for water intake tracking.\n\n---\n\n**Happy Hydrating! ðŸ’§**\n","size_bytes":8369},"App.tsx":{"content":"import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { GestureHandlerRootView } from \"react-native-gesture-handler\";\nimport { KeyboardProvider } from \"react-native-keyboard-controller\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\nimport { StatusBar } from \"expo-status-bar\";\n\nimport { RootNavigator } from \"@/navigation/RootNavigator\";\nimport { ErrorBoundary } from \"@/components/ErrorBoundary\";\nimport { AuthProvider } from \"@/hooks/useAuth\";\nimport { WaterTrackingProvider } from \"@/hooks/useWaterTracking\";\n\nexport default function App() {\n  return (\n  <ErrorBoundary>\n    <SafeAreaProvider>\n        <GestureHandlerRootView style={styles.root}>\n          <KeyboardProvider>\n            <AuthProvider>\n              <WaterTrackingProvider>\n                <NavigationContainer>\n                  <RootNavigator />\n                </NavigationContainer>\n                <StatusBar style=\"auto\" />\n              </WaterTrackingProvider>\n            </AuthProvider>\n          </KeyboardProvider>\n        </GestureHandlerRootView>\n      </SafeAreaProvider>\n  </ErrorBoundary>\n  );\n}\n\nconst styles = StyleSheet.create({\n  root: {\n    flex: 1,\n  },\n});\n","size_bytes":1260},"eslint.config.js":{"content":"// https://docs.expo.dev/guides/using-eslint/\nconst { defineConfig } = require(\"eslint/config\");\nconst expoConfig = require(\"eslint-config-expo/flat\");\nconst eslintPluginPrettierRecommended = require(\"eslint-plugin-prettier/recommended\");\n\nmodule.exports = defineConfig([\n  expoConfig,\n  eslintPluginPrettierRecommended,\n  {\n    ignores: [\"dist/*\"],\n  },\n]);\n","size_bytes":359},"components/Spacer.tsx":{"content":"import { View } from \"react-native\";\n\ntype Props = {\n  width?: number;\n  height?: number;\n};\n\nexport default function Spacer(props: Props) {\n  const width: number = props.width ?? 1;\n  const height: number = props.height ?? 1;\n\n  return (\n    <View\n      style={{\n        width,\n        height,\n      }}\n    />\n  );\n}\n","size_bytes":318},"constants/theme.ts":{"content":"import { Platform } from \"react-native\";\n\nconst primaryLight = \"#4A90E2\";\nconst primaryDark = \"#5AA3F0\";\n\nexport const Colors = {\n  light: {\n    primary: \"#4A90E2\",\n    secondary: \"#5FC9E8\",\n    background: \"#F5F9FC\",\n    surface: \"#FFFFFF\",\n    text: \"#1A2B3C\",\n    textSecondary: \"#6B7C8C\",\n    success: \"#4CAF50\",\n    border: \"#E0E8F0\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#6B7C8C\",\n    tabIconSelected: primaryLight,\n    link: \"#4A90E2\",\n    backgroundRoot: \"#F5F9FC\",\n    backgroundDefault: \"#FFFFFF\",\n    backgroundSecondary: \"#F5F9FC\",\n    backgroundTertiary: \"#E0E8F0\",\n  },\n  dark: {\n    primary: \"#5AA3F0\",\n    secondary: \"#6ED4EC\",\n    background: \"#0F1419\",\n    surface: \"#1A2530\",\n    text: \"#E8F1F8\",\n    textSecondary: \"#9BADB8\",\n    success: \"#66BB6A\",\n    border: \"#2A3945\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#9BADB8\",\n    tabIconSelected: primaryDark,\n    link: \"#5AA3F0\",\n    backgroundRoot: \"#0F1419\",\n    backgroundDefault: \"#1A2530\",\n    backgroundSecondary: \"#1F2A35\",\n    backgroundTertiary: \"#2A3945\",\n  },\n};\n\nexport const Spacing = {\n  xs: 4,\n  sm: 8,\n  md: 12,\n  lg: 16,\n  xl: 20,\n  \"2xl\": 24,\n  \"3xl\": 32,\n  \"4xl\": 40,\n  \"5xl\": 48,\n  inputHeight: 48,\n  buttonHeight: 52,\n};\n\nexport const BorderRadius = {\n  xs: 8,\n  sm: 12,\n  md: 18,\n  lg: 24,\n  xl: 30,\n  \"2xl\": 40,\n  \"3xl\": 50,\n  full: 9999,\n};\n\nexport const Typography = {\n  sizes: {\n    xs: 12,\n    sm: 14,\n    md: 16,\n    lg: 18,\n    xl: 20,\n    \"2xl\": 24,\n    \"3xl\": 28,\n    \"4xl\": 32,\n  },\n  weights: {\n    regular: \"400\" as const,\n    medium: \"500\" as const,\n    semibold: \"600\" as const,\n    bold: \"700\" as const,\n  },\n  h1: {\n    fontSize: 32,\n    lineHeight: 40,\n    fontWeight: \"700\" as const,\n  },\n  h2: {\n    fontSize: 28,\n    lineHeight: 36,\n    fontWeight: \"700\" as const,\n  },\n  h3: {\n    fontSize: 24,\n    lineHeight: 32,\n    fontWeight: \"600\" as const,\n  },\n  h4: {\n    fontSize: 20,\n    lineHeight: 28,\n    fontWeight: \"600\" as const,\n  },\n  body: {\n    fontSize: 16,\n    lineHeight: 24,\n    fontWeight: \"400\" as const,\n  },\n  small: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontWeight: \"400\" as const,\n  },\n  link: {\n    fontSize: 16,\n    lineHeight: 24,\n    fontWeight: \"400\" as const,\n  },\n};\n\nexport const Fonts = Platform.select({\n  ios: {\n    /** iOS `UIFontDescriptorSystemDesignDefault` */\n    sans: \"system-ui\",\n    /** iOS `UIFontDescriptorSystemDesignSerif` */\n    serif: \"ui-serif\",\n    /** iOS `UIFontDescriptorSystemDesignRounded` */\n    rounded: \"ui-rounded\",\n    /** iOS `UIFontDescriptorSystemDesignMonospaced` */\n    mono: \"ui-monospace\",\n  },\n  default: {\n    sans: \"normal\",\n    serif: \"serif\",\n    rounded: \"normal\",\n    mono: \"monospace\",\n  },\n  web: {\n    sans: \"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif\",\n    serif: \"Georgia, 'Times New Roman', serif\",\n    rounded:\n      \"'SF Pro Rounded', 'Hiragino Maru Gothic ProN', Meiryo, 'MS PGothic', sans-serif\",\n    mono: \"SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace\",\n  },\n});\n","size_bytes":3068},"components/ScreenFlatList.tsx":{"content":"import React from \"react\";\nimport { FlatList, FlatListProps, StyleSheet } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useScreenInsets } from \"@/hooks/useScreenInsets\";\nimport { Spacing } from \"@/constants/theme\";\n\nexport function ScreenFlatList<T>({\n  contentContainerStyle,\n  style,\n  ...flatListProps\n}: FlatListProps<T>) {\n  const { theme } = useTheme();\n  const { paddingTop, paddingBottom, scrollInsetBottom } = useScreenInsets();\n\n  return (\n    <FlatList\n      style={[\n        styles.container,\n        { backgroundColor: theme.backgroundRoot },\n        style,\n      ]}\n      contentContainerStyle={[\n        {\n          paddingTop,\n          paddingBottom,\n        },\n        styles.contentContainer,\n        contentContainerStyle,\n      ]}\n      scrollIndicatorInsets={{ bottom: scrollInsetBottom }}\n      {...flatListProps}\n    />\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  contentContainer: {\n    paddingHorizontal: Spacing.xl,\n  },\n});\n","size_bytes":1016},"components/WaterLogCard.tsx":{"content":"import { View, StyleSheet, Pressable } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { ThemedText } from './ThemedText';\nimport { useTheme } from '../hooks/useTheme';\nimport { Spacing, BorderRadius } from '../constants/theme';\n\ninterface WaterLogCardProps {\n  amount: number;\n  time: string;\n  onDelete: () => void;\n}\n\nexport function WaterLogCard({ amount, time, onDelete }: WaterLogCardProps) {\n  const { colors } = useTheme();\n\n  return (\n    <View style={[styles.card, { backgroundColor: colors.surface, borderColor: colors.border }]}>\n      <View style={styles.icon}>\n        <MaterialCommunityIcons name=\"water\" size={24} color={colors.primary} />\n      </View>\n      <View style={styles.content}>\n        <ThemedText style={[styles.amount, { color: colors.text }]}>\n          {amount} ml\n        </ThemedText>\n        <ThemedText style={[styles.time, { color: colors.textSecondary }]}>\n          {time}\n        </ThemedText>\n      </View>\n      <Pressable \n        onPress={onDelete}\n        style={({ pressed }) => [\n          styles.deleteButton,\n          { opacity: pressed ? 0.5 : 1 }\n        ]}\n      >\n        <MaterialCommunityIcons name=\"delete-outline\" size={20} color={colors.textSecondary} />\n      </Pressable>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  card: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n  },\n  icon: {\n    marginRight: Spacing.md,\n  },\n  content: {\n    flex: 1,\n  },\n  amount: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  time: {\n    fontSize: 14,\n    marginTop: 2,\n  },\n  deleteButton: {\n    padding: Spacing.sm,\n  },\n});\n","size_bytes":1712},"navigation/HistoryStackNavigator.tsx":{"content":"import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { HistoryScreen } from '../screens/HistoryScreen';\nimport { getCommonScreenOptions } from './screenOptions';\nimport { useTheme } from '../hooks/useTheme';\n\nexport type HistoryStackParamList = {\n  HistoryMain: undefined;\n};\n\nconst Stack = createNativeStackNavigator<HistoryStackParamList>();\n\nexport function HistoryStackNavigator() {\n  const { theme, isDark } = useTheme();\n  \n  return (\n    <Stack.Navigator screenOptions={getCommonScreenOptions({ theme, isDark })}>\n      <Stack.Screen \n        name=\"HistoryMain\" \n        component={HistoryScreen}\n        options={{\n          title: 'History',\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","size_bytes":732},"screens/SplashScreen.tsx":{"content":"import { View, StyleSheet, Image } from 'react-native';\nimport { useEffect } from 'react';\nimport { useNavigation } from '@react-navigation/native';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport Animated, { \n  useSharedValue, \n  useAnimatedStyle, \n  withSpring,\n  withSequence,\n  withDelay\n} from 'react-native-reanimated';\nimport { ThemedText } from '../components/ThemedText';\nimport { ThemedView } from '../components/ThemedView';\nimport { useTheme } from '../hooks/useTheme';\nimport { useAuth } from '../hooks/useAuth';\n\ntype RootStackParamList = {\n  Splash: undefined;\n  Login: undefined;\n  MainTabs: undefined;\n};\n\nexport function SplashScreen() {\n  const navigation = useNavigation<NativeStackNavigationProp<RootStackParamList>>();\n  const { colors } = useTheme();\n  const { user, loading } = useAuth();\n  \n  const scale = useSharedValue(0);\n  const opacity = useSharedValue(0);\n\n  useEffect(() => {\n    scale.value = withSpring(1, { damping: 12, stiffness: 100 });\n    opacity.value = withSequence(\n      withDelay(200, withSpring(1))\n    );\n\n    const timer = setTimeout(() => {\n      if (!loading) {\n        if (user) {\n          navigation.replace('MainTabs');\n        } else {\n          navigation.replace('Login');\n        }\n      }\n    }, 2500);\n\n    return () => clearTimeout(timer);\n  }, [user, loading]);\n\n  const logoStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n    opacity: opacity.value,\n  }));\n\n  return (\n    <ThemedView style={[styles.container, { backgroundColor: colors.primary }]}>\n      <Animated.View style={[styles.content, logoStyle]}>\n        <Image \n          source={require('../assets/images/splash-icon.png')} \n          style={styles.logo}\n          resizeMode=\"contain\"\n        />\n        <ThemedText style={[styles.title, { color: '#FFFFFF' }]}>\n          HydroTrack\n        </ThemedText>\n        <ThemedText style={[styles.subtitle, { color: '#FFFFFF', opacity: 0.8 }]}>\n          Stay Hydrated, Stay Healthy\n        </ThemedText>\n      </Animated.View>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  content: {\n    alignItems: 'center',\n  },\n  logo: {\n    width: 120,\n    height: 120,\n    marginBottom: 24,\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: '700',\n    marginBottom: 8,\n  },\n  subtitle: {\n    fontSize: 16,\n    fontWeight: '400',\n  },\n});\n","size_bytes":2466},"scripts/build.js":{"content":"const fs = require(\"fs\");\nconst path = require(\"path\");\nconst { spawn } = require(\"child_process\");\nconst { Readable } = require(\"stream\");\nconst { pipeline } = require(\"stream/promises\");\n\nlet metroProcess = null;\n\nfunction exitWithError(message) {\n  console.error(message);\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(1);\n}\n\nfunction setupSignalHandlers() {\n  const cleanup = () => {\n    if (metroProcess) {\n      console.log(\"Cleaning up Metro process...\");\n      metroProcess.kill();\n    }\n    process.exit(0);\n  };\n\n  process.on(\"SIGINT\", cleanup);\n  process.on(\"SIGTERM\", cleanup);\n  process.on(\"SIGHUP\", cleanup);\n}\n\nfunction getDeploymentUrl() {\n  if (process.env.REPLIT_INTERNAL_APP_DOMAIN) {\n    const url = `https://${process.env.REPLIT_INTERNAL_APP_DOMAIN}`;\n    console.log(\"Using REPLIT_INTERNAL_APP_DOMAIN:\", url);\n    return url;\n  }\n\n  if (process.env.REPLIT_DEV_DOMAIN) {\n    const url = `https://${process.env.REPLIT_DEV_DOMAIN}`;\n    console.log(\"Using REPLIT_DEV_DOMAIN:\", url);\n    return url;\n  }\n\n  console.error(\n    \"ERROR: REPLIT_INTERNAL_APP_DOMAIN and REPLIT_DEV_DOMAIN not set\",\n  );\n  process.exit(1);\n}\n\nfunction prepareDirectories(timestamp) {\n  console.log(\"Preparing build directories...\");\n\n  if (fs.existsSync(\"static-build\")) {\n    fs.rmSync(\"static-build\", { recursive: true });\n  }\n\n  const dirs = [\n    path.join(\"static-build\", timestamp, \"_expo\", \"static\", \"js\", \"ios\"),\n    path.join(\"static-build\", timestamp, \"_expo\", \"static\", \"js\", \"android\"),\n    path.join(\"static-build\", \"ios\"),\n    path.join(\"static-build\", \"android\"),\n  ];\n\n  for (const dir of dirs) {\n    fs.mkdirSync(dir, { recursive: true });\n  }\n\n  console.log(\"Build:\", timestamp);\n}\n\nfunction clearMetroCache() {\n  console.log(\"Clearing Metro cache...\");\n\n  const cacheDirs = [\n    ...fs.globSync(\".metro-cache\"),\n    ...fs.globSync(\"node_modules/.cache/metro\"),\n  ];\n\n  for (const dir of cacheDirs) {\n    fs.rmSync(dir, { recursive: true, force: true });\n  }\n\n  console.log(\"Cache cleared\");\n}\n\nasync function checkMetroHealth() {\n  try {\n    const response = await fetch(\"http://localhost:8081/status\");\n    return response.ok;\n  } catch {\n    return false;\n  }\n}\n\nasync function startMetro() {\n  const isRunning = await checkMetroHealth();\n  if (isRunning) {\n    return;\n  }\n\n  console.log(\"Starting Metro...\");\n  metroProcess = spawn(\"npm\", [\"run\", \"dev\"], {\n    stdio: [\"ignore\", \"ignore\", \"ignore\"],\n    detached: false,\n  });\n\n  for (let i = 0; i < 30; i++) {\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n    const healthy = await checkMetroHealth();\n    if (healthy) {\n      console.log(\"Metro ready\");\n      return;\n    }\n  }\n\n  console.error(\"Metro timeout\");\n  process.exit(1);\n}\n\nasync function downloadFile(url, outputPath) {\n  try {\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    const file = fs.createWriteStream(outputPath);\n    await pipeline(Readable.fromWeb(response.body), file);\n\n    const fileSize = fs.statSync(outputPath).size;\n\n    if (fileSize === 0) {\n      fs.unlinkSync(outputPath);\n      throw new Error(\"Downloaded file is empty\");\n    }\n  } catch (error) {\n    if (fs.existsSync(outputPath)) {\n      fs.unlinkSync(outputPath);\n    }\n    throw error;\n  }\n}\n\nasync function downloadBundle(platform, timestamp) {\n  const url = new URL(\"http://localhost:8081/index.bundle\");\n  url.searchParams.set(\"platform\", platform);\n  url.searchParams.set(\"dev\", \"false\");\n  url.searchParams.set(\"hot\", \"false\");\n  url.searchParams.set(\"lazy\", \"false\");\n  url.searchParams.set(\"minify\", \"true\");\n\n  const output = path.join(\n    \"static-build\",\n    timestamp,\n    \"_expo\",\n    \"static\",\n    \"js\",\n    platform,\n    \"bundle.js\",\n  );\n\n  try {\n    await downloadFile(url.toString(), output);\n  } catch (error) {\n    exitWithError(`Failed to download ${platform} bundle: ${error.message}`);\n  }\n}\n\nasync function downloadManifest(platform) {\n  const response = await fetch(\"http://localhost:8081/manifest\", {\n    headers: { \"expo-platform\": platform },\n  });\n\n  if (!response.ok) {\n    throw new Error(`HTTP ${response.status}`);\n  }\n\n  return await response.json();\n}\n\nasync function downloadBundlesAndManifests(timestamp) {\n  console.log(\"Downloading bundles and manifests...\");\n\n  try {\n    const [, , iosManifest, androidManifest] = await Promise.all([\n      downloadBundle(\"ios\", timestamp),\n      downloadBundle(\"android\", timestamp),\n      downloadManifest(\"ios\"),\n      downloadManifest(\"android\"),\n    ]);\n    console.log(\"Downloaded\");\n    return { ios: iosManifest, android: androidManifest };\n  } catch (error) {\n    exitWithError(`Download failed: ${error.message}`);\n  }\n}\n\nfunction extractAssets(timestamp) {\n  const bundles = {\n    ios: fs.readFileSync(\n      path.join(\n        \"static-build\",\n        timestamp,\n        \"_expo\",\n        \"static\",\n        \"js\",\n        \"ios\",\n        \"bundle.js\",\n      ),\n      \"utf-8\",\n    ),\n    android: fs.readFileSync(\n      path.join(\n        \"static-build\",\n        timestamp,\n        \"_expo\",\n        \"static\",\n        \"js\",\n        \"android\",\n        \"bundle.js\",\n      ),\n      \"utf-8\",\n    ),\n  };\n\n  const assetsMap = new Map();\n  const assetPattern =\n    /httpServerLocation:\"([^\"]+)\"[^}]*hash:\"([^\"]+)\"[^}]*name:\"([^\"]+)\"[^}]*type:\"([^\"]+)\"/g;\n\n  const extractFromBundle = (bundle, platform) => {\n    for (const match of bundle.matchAll(assetPattern)) {\n      const originalPath = match[1];\n      const filename = match[3] + \".\" + match[4];\n\n      const tempUrl = new URL(`http://localhost:8081${originalPath}`);\n      const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n      if (!unstablePath) {\n        throw new Error(`Asset missing unstable_path: ${originalPath}`);\n      }\n\n      const decodedPath = decodeURIComponent(unstablePath).replace(/^\\.\\//, \"\");\n      const key = path.posix.join(decodedPath, filename);\n\n      if (!assetsMap.has(key)) {\n        const asset = {\n          url: path.posix.join(\"/\", decodedPath, filename),\n          originalPath: originalPath,\n          filename: filename,\n          relativePath: decodedPath,\n          hash: match[2],\n          platforms: new Set(),\n        };\n\n        assetsMap.set(key, asset);\n      }\n      assetsMap.get(key).platforms.add(platform);\n    }\n  };\n\n  extractFromBundle(bundles.ios, \"ios\");\n  extractFromBundle(bundles.android, \"android\");\n\n  return Array.from(assetsMap.values());\n}\n\nasync function downloadAssets(assets, timestamp) {\n  if (assets.length === 0) {\n    return 0;\n  }\n\n  console.log(\"Downloading assets...\");\n  let successCount = 0;\n  const failures = [];\n\n  const downloadPromises = assets.map(async (asset) => {\n    const platform = Array.from(asset.platforms)[0];\n\n    const tempUrl = new URL(`http://localhost:8081${asset.originalPath}`);\n    const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n    if (!unstablePath) {\n      throw new Error(`Asset missing unstable_path: ${asset.originalPath}`);\n    }\n\n    const decodedPath = decodeURIComponent(unstablePath).replace(/^\\./, \"\");\n    const metroUrl = new URL(\n      `http://localhost:8081${path.posix.join(\"/assets\", decodedPath, asset.filename)}`,\n    );\n    metroUrl.searchParams.set(\"platform\", platform);\n    metroUrl.searchParams.set(\"hash\", asset.hash);\n\n    const outputDir = path.join(\n      \"static-build\",\n      timestamp,\n      \"_expo\",\n      \"static\",\n      \"js\",\n      asset.relativePath,\n    );\n    fs.mkdirSync(outputDir, { recursive: true });\n    const output = path.join(outputDir, asset.filename);\n\n    try {\n      await downloadFile(metroUrl.toString(), output);\n      successCount++;\n    } catch (error) {\n      failures.push({\n        filename: asset.filename,\n        error: error.message,\n        url: metroUrl.toString(),\n      });\n    }\n  });\n\n  await Promise.all(downloadPromises);\n\n  if (failures.length > 0) {\n    const errorMsg =\n      `Failed to download ${failures.length} asset(s):\\n` +\n      failures\n        .map((f) => `  - ${f.filename}: ${f.error} (${f.url})`)\n        .join(\"\\n\");\n    exitWithError(errorMsg);\n  }\n\n  console.log(`Downloaded ${successCount} assets`);\n  return successCount;\n}\n\nfunction updateBundleUrls(timestamp, baseUrl) {\n  const updateForPlatform = (platform) => {\n    const bundlePath = path.join(\n      \"static-build\",\n      timestamp,\n      \"_expo\",\n      \"static\",\n      \"js\",\n      platform,\n      \"bundle.js\",\n    );\n    let bundle = fs.readFileSync(bundlePath, \"utf-8\");\n\n    bundle = bundle.replace(\n      /httpServerLocation:\"(\\/[^\"]+)\"/g,\n      (_match, capturedPath) => {\n        const tempUrl = new URL(`http://localhost:8081${capturedPath}`);\n        const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n        if (!unstablePath) {\n          throw new Error(\n            `Asset missing unstable_path in bundle: ${capturedPath}`,\n          );\n        }\n\n        const decodedPath = decodeURIComponent(unstablePath).replace(\n          /^\\.\\//,\n          \"\",\n        );\n        return `httpServerLocation:\"${baseUrl}/${timestamp}/_expo/static/js/${decodedPath}\"`;\n      },\n    );\n\n    fs.writeFileSync(bundlePath, bundle);\n  };\n\n  updateForPlatform(\"ios\");\n  updateForPlatform(\"android\");\n  console.log(\"Updated bundle URLs\");\n}\n\nfunction updateManifests(manifests, timestamp, baseUrl, assetsByHash) {\n  const updateForPlatform = (platform, manifest) => {\n    if (!manifest.launchAsset || !manifest.extra) {\n      exitWithError(`Malformed manifest for ${platform}`);\n    }\n\n    manifest.launchAsset.url = `${baseUrl}/${timestamp}/_expo/static/js/${platform}/bundle.js`;\n    manifest.launchAsset.key = `bundle-${timestamp}`;\n    manifest.createdAt = new Date(\n      Number(timestamp.split(\"-\")[0]),\n    ).toISOString();\n    manifest.extra.expoClient.hostUri =\n      baseUrl.replace(\"https://\", \"\") + \"/\" + platform;\n    manifest.extra.expoGo.debuggerHost =\n      baseUrl.replace(\"https://\", \"\") + \"/\" + platform;\n    manifest.extra.expoGo.packagerOpts.dev = false;\n\n    if (manifest.assets && manifest.assets.length > 0) {\n      manifest.assets.forEach((asset) => {\n        if (!asset.url) return;\n\n        const hash = asset.hash;\n        if (!hash) return;\n\n        const assetInfo = assetsByHash.get(hash);\n        if (!assetInfo) return;\n\n        asset.url = `${baseUrl}/${timestamp}/_expo/static/js/${assetInfo.relativePath}/${assetInfo.filename}`;\n      });\n    }\n\n    fs.writeFileSync(\n      path.join(\"static-build\", platform, \"manifest.json\"),\n      JSON.stringify(manifest, null, 2),\n    );\n  };\n\n  updateForPlatform(\"ios\", manifests.ios);\n  updateForPlatform(\"android\", manifests.android);\n  console.log(\"Manifests updated\");\n}\n\nfunction createLandingPage(baseUrl) {\n  const expsUrl = baseUrl.replace(\"https://\", \"\");\n  const template = fs.readFileSync(\n    path.join(\"scripts\", \"landing-page-template.html\"),\n    \"utf-8\",\n  );\n\n  const html = template\n    .replace(/BASE_URL_PLACEHOLDER/g, baseUrl)\n    .replace(/EXPS_URL_PLACEHOLDER/g, expsUrl);\n\n  fs.writeFileSync(path.join(\"static-build\", \"index.html\"), html);\n  console.log(\"Complete\");\n}\n\nasync function main() {\n  console.log(\"Building static Expo Go deployment...\");\n\n  setupSignalHandlers();\n\n  const baseUrl = getDeploymentUrl();\n  const timestamp = `${Date.now()}-${process.pid}`;\n\n  prepareDirectories(timestamp);\n  clearMetroCache();\n\n  await startMetro();\n  const manifests = await downloadBundlesAndManifests(timestamp);\n\n  console.log(\"Processing assets...\");\n  const assets = extractAssets(timestamp);\n  console.log(\"Found\", assets.length, \"unique asset(s)\");\n\n  const assetsByHash = new Map();\n  for (const asset of assets) {\n    assetsByHash.set(asset.hash, {\n      relativePath: asset.relativePath,\n      filename: asset.filename,\n    });\n  }\n\n  const assetCount = await downloadAssets(assets, timestamp);\n\n  if (assetCount > 0) {\n    updateBundleUrls(timestamp, baseUrl);\n  }\n\n  console.log(\"Updating manifests and creating landing page...\");\n  updateManifests(manifests, timestamp, baseUrl, assetsByHash);\n  createLandingPage(baseUrl);\n\n  console.log(\"Build complete! Deploy to:\", baseUrl);\n\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(0);\n}\n\nmain().catch((error) => {\n  console.error(\"Build failed:\", error.message);\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(1);\n});\n","size_bytes":12348},"components/Card.tsx":{"content":"import React from \"react\";\nimport { StyleSheet, Pressable } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\ninterface CardProps {\n  elevation: number;\n  onPress?: () => void;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst getBackgroundColorForElevation = (\n  elevation: number,\n  theme: any,\n): string => {\n  switch (elevation) {\n    case 1:\n      return theme.backgroundDefault;\n    case 2:\n      return theme.backgroundSecondary;\n    case 3:\n      return theme.backgroundTertiary;\n    default:\n      return theme.backgroundRoot;\n  }\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function Card({ elevation, onPress }: CardProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n\n  const cardBackgroundColor = getBackgroundColorForElevation(elevation, theme);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    scale.value = withSpring(0.98, springConfig);\n  };\n\n  const handlePressOut = () => {\n    scale.value = withSpring(1, springConfig);\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      style={[\n        styles.card,\n        {\n          backgroundColor: cardBackgroundColor,\n        },\n        animatedStyle,\n      ]}\n    >\n      <ThemedText type=\"h4\" style={styles.cardTitle}>\n        Card - Elevation {elevation}\n      </ThemedText>\n      <ThemedText type=\"small\" style={styles.cardDescription}>\n        This card has an elevation of {elevation}\n      </ThemedText>\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  card: {\n    padding: Spacing.xl,\n    borderRadius: BorderRadius[\"2xl\"],\n  },\n  cardTitle: {\n    marginBottom: Spacing.sm,\n  },\n  cardDescription: {\n    opacity: 0.7,\n  },\n});\n","size_bytes":2211},"components/ErrorFallback.tsx":{"content":"import React, { useState } from \"react\";\nimport { reloadAppAsync } from \"expo\";\nimport {\n  StyleSheet,\n  View,\n  Pressable,\n  ScrollView,\n  Text,\n  Modal,\n} from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Fonts } from \"@/constants/theme\";\n\nexport type ErrorFallbackProps = {\n  error: Error;\n  resetError: () => void;\n};\n\nexport function ErrorFallback({ error, resetError }: ErrorFallbackProps) {\n  const { theme } = useTheme();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const handleRestart = async () => {\n    try {\n      await reloadAppAsync();\n    } catch (restartError) {\n      console.error(\"Failed to restart app:\", restartError);\n      resetError();\n    }\n  };\n\n  const formatErrorDetails = (): string => {\n    let details = `Error: ${error.message}\\n\\n`;\n    if (error.stack) {\n      details += `Stack Trace:\\n${error.stack}`;\n    }\n    return details;\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      {__DEV__ ? (\n        <Pressable\n          onPress={() => setIsModalVisible(true)}\n          style={({ pressed }) => [\n            styles.topButton,\n            {\n              backgroundColor: theme.backgroundDefault,\n              opacity: pressed ? 0.8 : 1,\n            },\n          ]}\n        >\n          <Feather name=\"alert-circle\" size={20} color={theme.text} />\n        </Pressable>\n      ) : null}\n\n      <View style={styles.content}>\n        <ThemedText type=\"h1\" style={styles.title}>\n          Something went wrong\n        </ThemedText>\n\n        <ThemedText type=\"body\" style={styles.message}>\n          Please reload the app to continue.\n        </ThemedText>\n\n        <Pressable\n          onPress={handleRestart}\n          style={({ pressed }) => [\n            styles.button,\n            {\n              backgroundColor: theme.link,\n              opacity: pressed ? 0.9 : 1,\n              transform: [{ scale: pressed ? 0.98 : 1 }],\n            },\n          ]}\n        >\n          <ThemedText\n            type=\"body\"\n            style={[styles.buttonText, { color: theme.buttonText }]}\n          >\n            Try Again\n          </ThemedText>\n        </Pressable>\n      </View>\n\n      {__DEV__ ? (\n        <Modal\n          visible={isModalVisible}\n          animationType=\"slide\"\n          transparent={true}\n          onRequestClose={() => setIsModalVisible(false)}\n        >\n          <View style={styles.modalOverlay}>\n            <ThemedView style={styles.modalContainer}>\n              <View style={styles.modalHeader}>\n                <ThemedText type=\"h2\" style={styles.modalTitle}>\n                  Error Details\n                </ThemedText>\n                <Pressable\n                  onPress={() => setIsModalVisible(false)}\n                  style={({ pressed }) => [\n                    styles.closeButton,\n                    { opacity: pressed ? 0.6 : 1 },\n                  ]}\n                >\n                  <Feather name=\"x\" size={24} color={theme.text} />\n                </Pressable>\n              </View>\n\n              <ScrollView\n                style={styles.modalScrollView}\n                contentContainerStyle={styles.modalScrollContent}\n                showsVerticalScrollIndicator\n              >\n                <View\n                  style={[\n                    styles.errorContainer,\n                    { backgroundColor: theme.backgroundDefault },\n                  ]}\n                >\n                  <Text\n                    style={[\n                      styles.errorText,\n                      {\n                        color: theme.text,\n                        fontFamily: Fonts?.mono || \"monospace\",\n                      },\n                    ]}\n                    selectable\n                  >\n                    {formatErrorDetails()}\n                  </Text>\n                </View>\n              </ScrollView>\n            </ThemedView>\n          </View>\n        </Modal>\n      ) : null}\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: Spacing[\"2xl\"],\n  },\n  content: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    gap: Spacing.lg,\n    width: \"100%\",\n    maxWidth: 600,\n  },\n  title: {\n    textAlign: \"center\",\n    lineHeight: 40,\n  },\n  message: {\n    textAlign: \"center\",\n    opacity: 0.7,\n    lineHeight: 24,\n  },\n  topButton: {\n    position: \"absolute\",\n    top: Spacing[\"2xl\"] + Spacing.lg,\n    right: Spacing.lg,\n    width: 44,\n    height: 44,\n    borderRadius: BorderRadius.md,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    zIndex: 10,\n  },\n  button: {\n    paddingVertical: Spacing.lg,\n    borderRadius: BorderRadius.md,\n    paddingHorizontal: Spacing[\"2xl\"],\n    minWidth: 200,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  buttonText: {\n    fontWeight: \"600\",\n    textAlign: \"center\",\n    fontSize: 16,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    justifyContent: \"flex-end\",\n  },\n  modalContainer: {\n    width: \"100%\",\n    height: \"90%\",\n    borderTopLeftRadius: BorderRadius.lg,\n    borderTopRightRadius: BorderRadius.lg,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.lg,\n    paddingTop: Spacing.lg,\n    paddingBottom: Spacing.md,\n    borderBottomWidth: 1,\n    borderBottomColor: \"rgba(128, 128, 128, 0.2)\",\n  },\n  modalTitle: {\n    fontWeight: \"600\",\n  },\n  closeButton: {\n    padding: Spacing.xs,\n  },\n  modalScrollView: {\n    flex: 1,\n  },\n  modalScrollContent: {\n    padding: Spacing.lg,\n  },\n  errorContainer: {\n    width: \"100%\",\n    borderRadius: BorderRadius.md,\n    overflow: \"hidden\",\n    padding: Spacing.lg,\n  },\n  errorText: {\n    fontSize: 12,\n    lineHeight: 18,\n    width: \"100%\",\n  },\n});\n","size_bytes":6194},"hooks/useTheme.ts":{"content":"import { Colors } from \"@/constants/theme\";\nimport { useColorScheme } from \"@/hooks/useColorScheme\";\n\nexport function useTheme() {\n  const { colorScheme } = useColorScheme();\n  const isDark = colorScheme === \"dark\";\n  const theme = Colors[colorScheme ?? \"light\"];\n  const colors = theme;\n\n  return {\n    theme,\n    colors,\n    isDark,\n  };\n}\n","size_bytes":342},"babel.config.js":{"content":"module.exports = function (api) {\n  api.cache(true);\n  return {\n    presets: [\"babel-preset-expo\"],\n    plugins: [\n      [\n        \"module-resolver\",\n        {\n          root: [\"./\"],\n          alias: {\n            \"@\": \"./\",\n          },\n          extensions: [\".ios.js\", \".android.js\", \".js\", \".ts\", \".tsx\", \".json\"],\n        },\n      ],\n      \"react-native-reanimated/plugin\",\n    ],\n  };\n};\n","size_bytes":395},"hooks/useScreenInsets.ts":{"content":"import { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Spacing } from \"@/constants/theme\";\n\nconst DEFAULT_HEADER_HEIGHT = 64;\nconst DEFAULT_TAB_BAR_HEIGHT = 60;\n\nexport function useScreenInsets() {\n  const insets = useSafeAreaInsets();\n\n  return {\n    paddingTop: DEFAULT_HEADER_HEIGHT + Spacing.xl,\n    paddingBottom: DEFAULT_TAB_BAR_HEIGHT + Spacing.xl,\n    scrollInsetBottom: insets.bottom + 16,\n  };\n}\n","size_bytes":428},"hooks/useColorScheme.web.ts":{"content":"import { useEffect, useState } from \"react\";\nimport { useColorScheme as useRNColorScheme } from \"react-native\";\n\n/**\n * To support static rendering, this value needs to be re-calculated on the client side for web\n */\nexport function useColorScheme() {\n  const [hasHydrated, setHasHydrated] = useState(false);\n\n  useEffect(() => {\n    setHasHydrated(true);\n  }, []);\n\n  const colorScheme = useRNColorScheme();\n\n  if (hasHydrated) {\n    return colorScheme;\n  }\n\n  return \"light\";\n}\n","size_bytes":480},"screens/HomeScreen.tsx":{"content":"import { useState } from 'react';\nimport { View, StyleSheet, Pressable, TextInput, Alert, Modal } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ThemedView } from '@/components/ThemedView';\nimport { ScreenScrollView } from '@/components/ScreenScrollView';\nimport { CircularProgress } from '@/components/CircularProgress';\nimport { WaterLogCard } from '@/components/WaterLogCard';\nimport { useWaterTracking } from '@/hooks/useWaterTracking';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useBottomTabBarHeight } from '@react-navigation/bottom-tabs';\nimport { Spacing, BorderRadius } from '@/constants/theme';\n\nconst QUICK_ADD_AMOUNTS = [250, 500, 750, 1000];\n\nexport default function HomeScreen() {\n  const { colors } = useTheme();\n  const { todayIntake, dailyGoal, addWater, removeWater, getTodayLogs } = useWaterTracking();\n  const [modalVisible, setModalVisible] = useState(false);\n  const [customAmount, setCustomAmount] = useState('');\n  const insets = useSafeAreaInsets();\n  const tabBarHeight = useBottomTabBarHeight();\n\n  const todayLogs = getTodayLogs();\n  const progress = todayIntake / dailyGoal;\n\n  const handleQuickAdd = async (amount: number) => {\n    await addWater(amount);\n  };\n\n  const handleCustomAdd = async () => {\n    const amount = parseInt(customAmount, 10);\n    if (isNaN(amount) || amount <= 0) {\n      Alert.alert('Invalid Amount', 'Please enter a valid amount');\n      return;\n    }\n    await addWater(amount);\n    setCustomAmount('');\n    setModalVisible(false);\n  };\n\n  const formatTime = (timestamp: number) => {\n    const date = new Date(timestamp);\n    return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      <ScreenScrollView contentContainerStyle={styles.scrollContent}>\n        <View style={styles.progressSection}>\n          <CircularProgress\n            progress={progress}\n            current={todayIntake}\n            goal={dailyGoal}\n          />\n          {progress >= 1 ? (\n            <ThemedText style={[styles.goalMessage, { color: colors.success }]}>\n              Daily goal achieved!\n            </ThemedText>\n          ) : null}\n        </View>\n\n        <View style={styles.quickAddSection}>\n          <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n            Quick Add\n          </ThemedText>\n          <View style={styles.quickAddGrid}>\n            {QUICK_ADD_AMOUNTS.map((amount) => (\n              <Pressable\n                key={amount}\n                style={({ pressed }) => [\n                  styles.quickAddButton,\n                  { \n                    backgroundColor: colors.surface,\n                    borderColor: colors.border,\n                    opacity: pressed ? 0.7 : 1\n                  }\n                ]}\n                onPress={() => handleQuickAdd(amount)}\n              >\n                <MaterialCommunityIcons name=\"plus\" size={20} color={colors.primary} />\n                <ThemedText style={[styles.quickAddText, { color: colors.text }]}>\n                  {amount} ml\n                </ThemedText>\n              </Pressable>\n            ))}\n          </View>\n        </View>\n\n        <View style={styles.logsSection}>\n          <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n            Today's Log\n          </ThemedText>\n          {todayLogs.length === 0 ? (\n            <ThemedText style={[styles.emptyText, { color: colors.textSecondary }]}>\n              No water logged yet today. Start hydrating!\n            </ThemedText>\n          ) : (\n            <View style={styles.logsList}>\n              {todayLogs.slice().reverse().map((log) => (\n                <View key={log.id} style={styles.logItem}>\n                  <WaterLogCard\n                    amount={log.amount}\n                    time={formatTime(log.timestamp)}\n                    onDelete={() => removeWater(log.id)}\n                  />\n                </View>\n              ))}\n            </View>\n          )}\n        </View>\n      </ScreenScrollView>\n\n      <Pressable\n        style={({ pressed }) => [\n          styles.fab,\n          { \n            backgroundColor: colors.primary,\n            bottom: tabBarHeight + Spacing.xl,\n            opacity: pressed ? 0.9 : 1,\n            shadowColor: colors.text,\n          }\n        ]}\n        onPress={() => setModalVisible(true)}\n      >\n        <MaterialCommunityIcons name=\"plus-circle\" size={28} color=\"#FFFFFF\" />\n      </Pressable>\n\n      <Modal\n        visible={modalVisible}\n        transparent\n        animationType=\"fade\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <Pressable \n          style={styles.modalOverlay}\n          onPress={() => setModalVisible(false)}\n        >\n          <Pressable \n            style={[styles.modalContent, { backgroundColor: colors.surface }]}\n            onPress={(e) => e.stopPropagation()}\n          >\n            <ThemedText style={[styles.modalTitle, { color: colors.text }]}>\n              Add Custom Amount\n            </ThemedText>\n            <TextInput\n              style={[styles.input, { \n                backgroundColor: colors.background,\n                borderColor: colors.border,\n                color: colors.text\n              }]}\n              placeholder=\"Enter amount in ml\"\n              placeholderTextColor={colors.textSecondary}\n              value={customAmount}\n              onChangeText={setCustomAmount}\n              keyboardType=\"number-pad\"\n            />\n            <View style={styles.modalButtons}>\n              <Pressable\n                style={({ pressed }) => [\n                  styles.modalButton,\n                  styles.cancelButton,\n                  { borderColor: colors.border, opacity: pressed ? 0.7 : 1 }\n                ]}\n                onPress={() => setModalVisible(false)}\n              >\n                <ThemedText style={[styles.cancelButtonText, { color: colors.text }]}>\n                  Cancel\n                </ThemedText>\n              </Pressable>\n              <Pressable\n                style={({ pressed }) => [\n                  styles.modalButton,\n                  styles.addButton,\n                  { backgroundColor: colors.primary, opacity: pressed ? 0.9 : 1 }\n                ]}\n                onPress={handleCustomAdd}\n              >\n                <ThemedText style={styles.addButtonText}>Add</ThemedText>\n              </Pressable>\n            </View>\n          </Pressable>\n        </Pressable>\n      </Modal>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scrollContent: {\n    paddingHorizontal: Spacing['2xl'],\n    paddingBottom: 100,\n  },\n  progressSection: {\n    alignItems: 'center',\n    paddingVertical: Spacing['3xl'],\n  },\n  goalMessage: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginTop: Spacing.lg,\n  },\n  quickAddSection: {\n    marginBottom: Spacing['3xl'],\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n    marginBottom: Spacing.lg,\n  },\n  quickAddGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: Spacing.md,\n  },\n  quickAddButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n    gap: Spacing.sm,\n    minWidth: 120,\n  },\n  quickAddText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  logsSection: {\n    marginBottom: Spacing['2xl'],\n  },\n  emptyText: {\n    fontSize: 14,\n    textAlign: 'center',\n    marginTop: Spacing.lg,\n  },\n  logsList: {\n    gap: Spacing.md,\n  },\n  logItem: {},\n  fab: {\n    position: 'absolute',\n    right: Spacing['2xl'],\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.10,\n    shadowRadius: 2,\n    elevation: 4,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '85%',\n    padding: Spacing['2xl'],\n    borderRadius: BorderRadius.md,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n    marginBottom: Spacing.lg,\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n    marginBottom: Spacing.lg,\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    gap: Spacing.md,\n  },\n  modalButton: {\n    flex: 1,\n    height: Spacing.buttonHeight,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: BorderRadius.xs,\n  },\n  cancelButton: {\n    borderWidth: 1,\n  },\n  cancelButtonText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  addButton: {},\n  addButtonText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#FFFFFF',\n  },\n});\n","size_bytes":9070},"design_guidelines.md":{"content":"# HydroTrack Design Guidelines\n\n## Architecture Decisions\n\n### Authentication\n**Auth Required** - The app includes explicit user accounts with login and registration functionality.\n\n**Implementation:**\n- Use local storage-based authentication (email/password)\n- Include both login and registration screens\n- Store user credentials and session state in AsyncStorage\n- Mock authentication flow with local state management\n- Registration should collect: name, email, password\n- Login/signup screens should include:\n  - Privacy policy & terms of service links (placeholder)\n- Profile screen must have:\n  - Log out button with confirmation alert\n  - Delete account option (nested under Settings > Account > Delete with double confirmation)\n\n### Navigation\n**Tab Navigation** - The app has 3 distinct feature areas:\n\n1. **Home Tab** (Center) - Daily water tracking dashboard\n2. **History Tab** - Water consumption history and analytics\n3. **Profile Tab** - User profile, settings, and theme toggle\n\n**Navigation Structure:**\n- Bottom tab bar with 3 tabs\n- Each tab has its own stack navigator for nested screens\n- No drawer navigation needed for this simple app\n\n### Screen Specifications\n\n#### 1. Splash Screen\n- **Purpose:** App branding and initial loading\n- **Layout:**\n  - Full-screen centered content\n  - HydroTrack logo/branding\n  - Water-themed gradient background (light blue to deeper blue)\n  - Animated water droplet or wave effect\n- **Duration:** 2-3 seconds before transitioning to auth or home\n- **No header or tab bar**\n\n#### 2. Login Screen\n- **Purpose:** User authentication\n- **Layout:**\n  - Transparent header (back button if accessed from register)\n  - Scrollable form centered on screen\n  - Submit button below form\n- **Components:**\n  - Email input field\n  - Password input field (with show/hide toggle)\n  - \"Login\" primary button\n  - \"Don't have an account? Register\" link\n  - Privacy policy and terms of service links at bottom\n- **Safe Area:** Top: insets.top + Spacing.xl, Bottom: insets.bottom + Spacing.xl\n\n#### 3. Registration Screen\n- **Purpose:** Create new user account\n- **Layout:**\n  - Transparent header with back button\n  - Scrollable form\n  - Submit button below form\n- **Components:**\n  - Name input field\n  - Email input field\n  - Password input field (with show/hide toggle)\n  - Confirm password field\n  - \"Register\" primary button\n  - \"Already have an account? Login\" link\n- **Safe Area:** Top: insets.top + Spacing.xl, Bottom: insets.bottom + Spacing.xl\n\n#### 4. Home Screen (Main Dashboard)\n- **Purpose:** Track daily water intake and view progress\n- **Layout:**\n  - Transparent header (right button: settings icon for theme toggle)\n  - Scrollable content\n  - Floating action button for quick water logging\n- **Components:**\n  - Large circular progress indicator (fills as user drinks water)\n  - Current intake display (ml/L consumed vs. daily goal)\n  - Quick-add buttons (250ml, 500ml, 750ml, custom amount)\n  - Today's log entries list (time-stamped water entries)\n  - Floating \"+\" button for adding custom water intake\n- **Safe Area:** Top: headerHeight + Spacing.xl, Bottom: tabBarHeight + Spacing.xl\n- **Floating Button Shadow:** shadowOffset: {width: 0, height: 2}, shadowOpacity: 0.10, shadowRadius: 2\n\n#### 5. History Screen\n- **Purpose:** View past water consumption data\n- **Layout:**\n  - Default header with title \"History\"\n  - Scrollable list\n- **Components:**\n  - Calendar week view showing daily completion status\n  - List of historical entries grouped by date\n  - Simple statistics (weekly average, best day, streak)\n- **Safe Area:** Top: Spacing.xl, Bottom: tabBarHeight + Spacing.xl\n\n#### 6. Profile Screen\n- **Purpose:** User settings, theme toggle, account management\n- **Layout:**\n  - Default header with title \"Profile\"\n  - Scrollable content\n- **Components:**\n  - User avatar (preset water-themed avatar selection)\n  - Display name field\n  - Daily water goal setter (slider or input)\n  - Theme toggle (Dark/Light mode switch with icon)\n  - Settings section: Notifications, Units (ml/oz), Reminders\n  - Account section: Log out button, Delete account (nested)\n- **Safe Area:** Top: Spacing.xl, Bottom: tabBarHeight + Spacing.xl\n\n## Design System\n\n### Color Palette\n**Light Mode:**\n- Primary: #4A90E2 (water blue)\n- Secondary: #5FC9E8 (light cyan)\n- Background: #F5F9FC (very light blue-gray)\n- Surface: #FFFFFF\n- Text Primary: #1A2B3C (dark blue-gray)\n- Text Secondary: #6B7C8C\n- Success: #4CAF50 (for goal completion)\n- Border: #E0E8F0\n\n**Dark Mode:**\n- Primary: #5AA3F0\n- Secondary: #6ED4EC\n- Background: #0F1419 (very dark blue-black)\n- Surface: #1A2530\n- Text Primary: #E8F1F8\n- Text Secondary: #9BADB8\n- Success: #66BB6A\n- Border: #2A3945\n\n### Typography\n- **Headings:** System font (Roboto on Android), Bold, sizes: 28px (H1), 22px (H2), 18px (H3)\n- **Body:** System font, Regular, 16px\n- **Caption:** System font, Regular, 14px\n- **Button Text:** System font, Medium, 16px\n\n### Visual Design\n- **Icons:** Use MaterialCommunityIcons from @expo/vector-icons\n  - Home: \"water-outline\"\n  - History: \"calendar-clock\"\n  - Profile: \"account-circle-outline\"\n  - Add water: \"plus-circle\"\n  - Settings: \"cog-outline\"\n- **Progress Indicator:** Circular with wave animation filling up\n- **Buttons:**\n  - Primary: Filled with primary color, rounded corners (8px)\n  - Secondary: Outlined with border, transparent background\n  - All buttons have press feedback (opacity: 0.7)\n- **Input Fields:**\n  - Outlined style with 8px border radius\n  - 48px height minimum (Android touch target)\n  - Focus state: border color changes to primary\n- **Cards:** Use elevated cards (elevation: 2) for water log entries\n- **Spacing:** Base unit 4px, standard spacing: 8px, 16px, 24px\n\n### Critical Assets\n1. **Water Drop Icon** - For splash screen logo and empty states\n2. **Preset Avatars** (3-5 options) - Water-themed abstract illustrations (waves, droplets, ocean-inspired)\n3. **Progress Wave Animation** - Animated water wave for circular progress\n\n### Accessibility\n- Minimum touch target: 48x48px (Material Design standard)\n- Color contrast ratio: 4.5:1 for normal text, 3:1 for large text\n- All interactive elements have clear focus states\n- Support for Android TalkBack screen reader\n- Theme toggle easily discoverable in profile screen","size_bytes":6278},"components/CircularProgress.tsx":{"content":"import { View, StyleSheet } from 'react-native';\nimport Svg, { Circle } from 'react-native-svg';\nimport { ThemedText } from './ThemedText';\nimport { useTheme } from '../hooks/useTheme';\n\ninterface CircularProgressProps {\n  progress: number;\n  size?: number;\n  strokeWidth?: number;\n  current: number;\n  goal: number;\n}\n\nexport function CircularProgress({ \n  progress, \n  size = 200, \n  strokeWidth = 16,\n  current,\n  goal \n}: CircularProgressProps) {\n  const { colors } = useTheme();\n  const radius = (size - strokeWidth) / 2;\n  const circumference = 2 * Math.PI * radius;\n  const progressOffset = circumference - (Math.min(progress, 1) * circumference);\n\n  return (\n    <View style={[styles.container, { width: size, height: size }]}>\n      <Svg width={size} height={size}>\n        <Circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          stroke={colors.border}\n          strokeWidth={strokeWidth}\n          fill=\"transparent\"\n        />\n        <Circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          stroke={progress >= 1 ? colors.success : colors.primary}\n          strokeWidth={strokeWidth}\n          fill=\"transparent\"\n          strokeDasharray={circumference}\n          strokeDashoffset={progressOffset}\n          strokeLinecap=\"round\"\n          transform={`rotate(-90 ${size / 2} ${size / 2})`}\n        />\n      </Svg>\n      <View style={styles.textContainer}>\n        <ThemedText style={[styles.currentText, { color: colors.text }]}>\n          {current}\n        </ThemedText>\n        <ThemedText style={[styles.unitText, { color: colors.textSecondary }]}>\n          ml\n        </ThemedText>\n        <ThemedText style={[styles.goalText, { color: colors.textSecondary }]}>\n          of {goal} ml\n        </ThemedText>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'relative',\n  },\n  textContainer: {\n    position: 'absolute',\n    alignItems: 'center',\n  },\n  currentText: {\n    fontSize: 40,\n    fontWeight: '700',\n  },\n  unitText: {\n    fontSize: 16,\n    marginTop: 4,\n  },\n  goalText: {\n    fontSize: 14,\n    marginTop: 4,\n  },\n});\n","size_bytes":2210},"navigation/RootNavigator.tsx":{"content":"import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { SplashScreen } from '../screens/SplashScreen';\nimport { LoginScreen } from '../screens/LoginScreen';\nimport { RegisterScreen } from '../screens/RegisterScreen';\nimport MainTabNavigator from './MainTabNavigator';\n\nexport type RootStackParamList = {\n  Splash: undefined;\n  Login: undefined;\n  Register: undefined;\n  MainTabs: undefined;\n};\n\nconst Stack = createNativeStackNavigator<RootStackParamList>();\n\nexport function RootNavigator() {\n  return (\n    <Stack.Navigator\n      initialRouteName=\"Splash\"\n      screenOptions={{\n        headerShown: false,\n      }}\n    >\n      <Stack.Screen name=\"Splash\" component={SplashScreen} />\n      <Stack.Screen name=\"Login\" component={LoginScreen} />\n      <Stack.Screen name=\"Register\" component={RegisterScreen} />\n      <Stack.Screen name=\"MainTabs\" component={MainTabNavigator} />\n    </Stack.Navigator>\n  );\n}\n","size_bytes":940},"components/ThemedText.tsx":{"content":"import { Text, type TextProps } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Typography } from \"@/constants/theme\";\n\nexport type ThemedTextProps = TextProps & {\n  lightColor?: string;\n  darkColor?: string;\n  type?: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"body\" | \"small\" | \"link\";\n};\n\nexport function ThemedText({\n  style,\n  lightColor,\n  darkColor,\n  type = \"body\",\n  ...rest\n}: ThemedTextProps) {\n  const { theme, isDark } = useTheme();\n\n  const getColor = () => {\n    if (isDark && darkColor) {\n      return darkColor;\n    }\n\n    if (!isDark && lightColor) {\n      return lightColor;\n    }\n\n    if (type === \"link\") {\n      return theme.link;\n    }\n\n    return theme.text;\n  };\n\n  const getTypeStyle = () => {\n    switch (type) {\n      case \"h1\":\n        return Typography.h1;\n      case \"h2\":\n        return Typography.h2;\n      case \"h3\":\n        return Typography.h3;\n      case \"h4\":\n        return Typography.h4;\n      case \"body\":\n        return Typography.body;\n      case \"small\":\n        return Typography.small;\n      case \"link\":\n        return Typography.link;\n      default:\n        return Typography.body;\n    }\n  };\n\n  return (\n    <Text style={[{ color: getColor() }, getTypeStyle(), style]} {...rest} />\n  );\n}\n","size_bytes":1251},"components/HeaderTitle.tsx":{"content":"import React from \"react\";\nimport { View, StyleSheet, Image } from \"react-native\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Spacing } from \"@/constants/theme\";\n\ninterface HeaderTitleProps {\n  title: string;\n}\n\nexport function HeaderTitle({ title }: HeaderTitleProps) {\n  return (\n    <View style={styles.container}>\n      <Image\n        source={require(\"../assets/images/icon.png\")}\n        style={styles.icon}\n        resizeMode=\"contain\"\n      />\n      <ThemedText style={styles.title}>{title}</ThemedText>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n  },\n  icon: {\n    width: 28,\n    height: 28,\n    marginRight: Spacing.sm,\n  },\n  title: {\n    fontSize: 17,\n    fontWeight: \"600\",\n  },\n});\n","size_bytes":829},"components/Button.tsx":{"content":"import React, { ReactNode } from \"react\";\nimport { StyleSheet, Pressable, ViewStyle, StyleProp } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { BorderRadius, Spacing } from \"@/constants/theme\";\n\ninterface ButtonProps {\n  onPress?: () => void;\n  children: ReactNode;\n  style?: StyleProp<ViewStyle>;\n  disabled?: boolean;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function Button({\n  onPress,\n  children,\n  style,\n  disabled = false,\n}: ButtonProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    if (!disabled) {\n      scale.value = withSpring(0.98, springConfig);\n    }\n  };\n\n  const handlePressOut = () => {\n    if (!disabled) {\n      scale.value = withSpring(1, springConfig);\n    }\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={disabled ? undefined : onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      disabled={disabled}\n      style={[\n        styles.button,\n        {\n          backgroundColor: theme.link,\n          opacity: disabled ? 0.5 : 1,\n        },\n        style,\n        animatedStyle,\n      ]}\n    >\n      <ThemedText\n        type=\"body\"\n        style={[styles.buttonText, { color: theme.buttonText }]}\n      >\n        {children}\n      </ThemedText>\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    height: Spacing.buttonHeight,\n    borderRadius: BorderRadius.full,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  buttonText: {\n    fontWeight: \"600\",\n  },\n});\n","size_bytes":2014},"hooks/useAuth.tsx":{"content":"import { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { StorageService, User } from '../utils/storage';\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  login: (email: string, password: string) => Promise<boolean>;\n  register: (name: string, email: string, password: string) => Promise<boolean>;\n  logout: () => Promise<void>;\n  updateUser: (user: User) => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadUser();\n  }, []);\n\n  const loadUser = async () => {\n    try {\n      const savedUser = await StorageService.getUser();\n      setUser(savedUser);\n    } catch (error) {\n      console.error('Failed to load user:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const login = async (email: string, password: string): Promise<boolean> => {\n    try {\n      const savedUser = await StorageService.getUser();\n      \n      if (savedUser && savedUser.email === email) {\n        setUser(savedUser);\n        return true;\n      }\n      \n      return false;\n    } catch (error) {\n      console.error('Login failed:', error);\n      return false;\n    }\n  };\n\n  const register = async (name: string, email: string, password: string): Promise<boolean> => {\n    try {\n      const newUser: User = {\n        id: Date.now().toString(),\n        name,\n        email,\n        avatar: 'avatar-waves',\n        dailyGoal: 2000,\n      };\n      \n      await StorageService.saveUser(newUser);\n      await StorageService.saveDailyGoal(2000);\n      setUser(newUser);\n      return true;\n    } catch (error) {\n      console.error('Registration failed:', error);\n      return false;\n    }\n  };\n\n  const logout = async () => {\n    try {\n      await StorageService.clearAll();\n      setUser(null);\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n\n  const updateUser = async (updatedUser: User) => {\n    try {\n      await StorageService.saveUser(updatedUser);\n      setUser(updatedUser);\n    } catch (error) {\n      console.error('Update user failed:', error);\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, loading, login, register, logout, updateUser }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n","size_bytes":2640},"index.js":{"content":"import { registerRootComponent } from \"expo\";\n\nimport App from \"@/App\";\n\nregisterRootComponent(App);\n","size_bytes":101},"hooks/useWaterTracking.tsx":{"content":"import { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { Alert } from 'react-native';\nimport { StorageService, WaterLog, UserStats } from '../utils/storage';\nimport { useAuth } from './useAuth';\nimport { AchievementService, ACHIEVEMENTS } from '../utils/achievements';\n\ninterface WaterTrackingContextType {\n  logs: WaterLog[];\n  dailyGoal: number;\n  todayIntake: number;\n  stats: UserStats | null;\n  addWater: (amount: number) => Promise<void>;\n  removeWater: (id: string) => Promise<void>;\n  setDailyGoal: (goal: number) => Promise<void>;\n  getTodayLogs: () => WaterLog[];\n  getHistoricalData: () => { date: string; total: number }[];\n  refreshStats: () => Promise<void>;\n}\n\nconst WaterTrackingContext = createContext<WaterTrackingContextType | undefined>(undefined);\n\nexport function WaterTrackingProvider({ children }: { children: ReactNode }) {\n  const { user } = useAuth();\n  const [logs, setLogs] = useState<WaterLog[]>([]);\n  const [dailyGoal, setDailyGoalState] = useState(2000);\n  const [stats, setStats] = useState<UserStats | null>(null);\n\n  useEffect(() => {\n    if (user) {\n      loadData();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (user && logs.length > 0) {\n      updateStats();\n    }\n  }, [logs, dailyGoal]);\n\n  const loadData = async () => {\n    try {\n      const [savedLogs, savedGoal, savedStats] = await Promise.all([\n        StorageService.getWaterLogs(),\n        StorageService.getDailyGoal(),\n        StorageService.getStats(),\n      ]);\n      setLogs(savedLogs);\n      setDailyGoalState(savedGoal);\n      setStats(savedStats);\n    } catch (error) {\n      console.error('Failed to load water tracking data:', error);\n    }\n  };\n\n  const calculateStats = (): UserStats => {\n    const dataByDate: { [key: string]: number } = {};\n    \n    logs.forEach(log => {\n      if (dataByDate[log.date]) {\n        dataByDate[log.date] += log.amount;\n      } else {\n        dataByDate[log.date] = log.amount;\n      }\n    });\n\n    const sortedDates = Object.keys(dataByDate).sort((a, b) => a.localeCompare(b));\n    const totalWaterConsumed = logs.reduce((sum, log) => sum + log.amount, 0);\n    \n    let currentStreak = 0;\n    let bestStreak = 0;\n    let totalDaysMetGoal = 0;\n    let tempStreak = 0;\n    let streakAtLastGoalDate = 0;\n    let lastGoalMetDate: string | null = null;\n    const today = new Date().toISOString().split('T')[0];\n    const yesterday = getDateBefore(today);\n    \n    for (let i = 0; i < sortedDates.length; i++) {\n      const date = sortedDates[i];\n      const dateTotal = dataByDate[date];\n      \n      if (dateTotal >= dailyGoal) {\n        totalDaysMetGoal++;\n        lastGoalMetDate = date;\n        \n        const isConsecutive = i === 0 || getDateAfter(sortedDates[i - 1]) === date;\n        const prevDayMetGoal = i === 0 || dataByDate[sortedDates[i - 1]] >= dailyGoal;\n        \n        if (isConsecutive && prevDayMetGoal) {\n          tempStreak++;\n        } else {\n          tempStreak = 1;\n        }\n        \n        streakAtLastGoalDate = tempStreak;\n        bestStreak = Math.max(bestStreak, tempStreak);\n      } else {\n        tempStreak = 0;\n      }\n    }\n\n    if (lastGoalMetDate === today || lastGoalMetDate === yesterday) {\n      currentStreak = streakAtLastGoalDate;\n    }\n\n    return {\n      currentStreak,\n      bestStreak,\n      totalDaysMetGoal,\n      totalWaterConsumed,\n      lastActivityDate: sortedDates.length > 0 ? sortedDates[sortedDates.length - 1] : today,\n    };\n  };\n\n  const getDateBefore = (dateStr: string): string => {\n    const date = new Date(dateStr);\n    date.setDate(date.getDate() - 1);\n    return date.toISOString().split('T')[0];\n  };\n\n  const getDateAfter = (dateStr: string): string => {\n    const date = new Date(dateStr);\n    date.setDate(date.getDate() + 1);\n    return date.toISOString().split('T')[0];\n  };\n\n  const updateStats = async () => {\n    try {\n      const newStats = calculateStats();\n      const oldStats = stats;\n      \n      await StorageService.saveStats(newStats);\n      setStats(newStats);\n\n      const newlyUnlocked = await AchievementService.checkAndUnlockAchievements(newStats);\n      \n      if (newlyUnlocked.length > 0 && oldStats) {\n        const achievementTitles = newlyUnlocked\n          .map(id => ACHIEVEMENTS.find(a => a.id === id)?.title)\n          .filter(Boolean)\n          .join(', ');\n        \n        Alert.alert(\n          'Achievement Unlocked!',\n          `Congratulations! You earned: ${achievementTitles}`,\n          [{ text: 'Awesome!', style: 'default' }]\n        );\n      }\n    } catch (error) {\n      console.error('Failed to update stats:', error);\n    }\n  };\n\n  const refreshStats = async () => {\n    await updateStats();\n  };\n\n  const addWater = async (amount: number) => {\n    try {\n      const now = new Date();\n      const newLog: WaterLog = {\n        id: Date.now().toString(),\n        amount,\n        timestamp: now.getTime(),\n        date: now.toISOString().split('T')[0],\n      };\n      \n      const updatedLogs = [...logs, newLog];\n      await StorageService.saveWaterLogs(updatedLogs);\n      setLogs(updatedLogs);\n    } catch (error) {\n      console.error('Failed to add water:', error);\n    }\n  };\n\n  const removeWater = async (id: string) => {\n    try {\n      const updatedLogs = logs.filter(log => log.id !== id);\n      await StorageService.saveWaterLogs(updatedLogs);\n      setLogs(updatedLogs);\n    } catch (error) {\n      console.error('Failed to remove water:', error);\n    }\n  };\n\n  const setDailyGoal = async (goal: number) => {\n    try {\n      await StorageService.saveDailyGoal(goal);\n      setDailyGoalState(goal);\n    } catch (error) {\n      console.error('Failed to set daily goal:', error);\n    }\n  };\n\n  const getTodayLogs = () => {\n    const today = new Date().toISOString().split('T')[0];\n    return logs.filter(log => log.date === today);\n  };\n\n  const todayIntake = getTodayLogs().reduce((sum, log) => sum + log.amount, 0);\n\n  const getHistoricalData = () => {\n    const dataByDate: { [key: string]: number } = {};\n    \n    logs.forEach(log => {\n      if (dataByDate[log.date]) {\n        dataByDate[log.date] += log.amount;\n      } else {\n        dataByDate[log.date] = log.amount;\n      }\n    });\n\n    return Object.entries(dataByDate)\n      .map(([date, total]) => ({ date, total }))\n      .sort((a, b) => b.date.localeCompare(a.date));\n  };\n\n  return (\n    <WaterTrackingContext.Provider\n      value={{\n        logs,\n        dailyGoal,\n        todayIntake,\n        stats,\n        addWater,\n        removeWater,\n        setDailyGoal,\n        getTodayLogs,\n        getHistoricalData,\n        refreshStats,\n      }}\n    >\n      {children}\n    </WaterTrackingContext.Provider>\n  );\n}\n\nexport function useWaterTracking() {\n  const context = useContext(WaterTrackingContext);\n  if (context === undefined) {\n    throw new Error('useWaterTracking must be used within a WaterTrackingProvider');\n  }\n  return context;\n}\n","size_bytes":6912},"components/ScreenScrollView.tsx":{"content":"import { ScrollView, ScrollViewProps, StyleSheet } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useScreenInsets } from \"@/hooks/useScreenInsets\";\nimport { Spacing } from \"@/constants/theme\";\n\nexport function ScreenScrollView({\n  children,\n  contentContainerStyle,\n  style,\n  ...scrollViewProps\n}: ScrollViewProps) {\n  const { theme } = useTheme();\n  const { paddingTop, paddingBottom, scrollInsetBottom } = useScreenInsets();\n\n  return (\n    <ScrollView\n      style={[\n        styles.container,\n        { backgroundColor: theme.backgroundRoot },\n        style,\n      ]}\n      contentContainerStyle={[\n        {\n          paddingTop,\n          paddingBottom,\n        },\n        styles.contentContainer,\n        contentContainerStyle,\n      ]}\n      scrollIndicatorInsets={{ bottom: scrollInsetBottom }}\n      {...scrollViewProps}\n    >\n      {children}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  contentContainer: {\n    paddingHorizontal: Spacing.xl,\n  },\n});\n","size_bytes":1043},"navigation/ProfileStackNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\n\nimport ProfileScreen from \"@/screens/ProfileScreen\";\nimport { AchievementsScreen } from \"@/screens/AchievementsScreen\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { getCommonScreenOptions } from \"@/navigation/screenOptions\";\n\nexport type ProfileStackParamList = {\n  Profile: undefined;\n  Achievements: undefined;\n};\n\nconst Stack = createNativeStackNavigator<ProfileStackParamList>();\n\nexport default function ProfileStackNavigator() {\n  const { theme, isDark } = useTheme();\n\n  return (\n    <Stack.Navigator screenOptions={getCommonScreenOptions({ theme, isDark })}>\n      <Stack.Screen\n        name=\"Profile\"\n        component={ProfileScreen}\n        options={{\n          title: \"Profile\",\n        }}\n      />\n      <Stack.Screen\n        name=\"Achievements\"\n        component={AchievementsScreen}\n        options={{\n          title: \"Achievements\",\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","size_bytes":1014},"screens/ProfileScreen.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { View, StyleSheet, Pressable, Image, Switch, TextInput, Alert, Modal } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ScreenScrollView } from '@/components/ScreenScrollView';\nimport { useAuth } from '@/hooks/useAuth';\nimport { useWaterTracking } from '@/hooks/useWaterTracking';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useColorScheme } from '@/hooks/useColorScheme';\nimport { StorageService, NotificationSettings } from '@/utils/storage';\nimport { NotificationService } from '@/utils/notifications';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { ProfileStackParamList } from '@/navigation/ProfileStackNavigator';\n\nconst calculateWaterGoal = (weight: number, activityLevel: string): number => {\n  const baseAmount = weight * 30;\n  const activityMultipliers = {\n    sedentary: 1.0,\n    light: 1.1,\n    moderate: 1.2,\n    active: 1.3,\n    very_active: 1.4,\n  };\n  const multiplier = activityMultipliers[activityLevel as keyof typeof activityMultipliers] || 1.0;\n  return Math.round(baseAmount * multiplier);\n};\n\ntype RootStackParamList = {\n  Login: undefined;\n} & ProfileStackParamList;\n\nconst AVATARS = [\n  { id: 'avatar-waves', source: require('@/assets/images/avatars/avatar-waves.png') },\n  { id: 'avatar-ripples', source: require('@/assets/images/avatars/avatar-ripples.png') },\n  { id: 'avatar-droplets', source: require('@/assets/images/avatars/avatar-droplets.png') },\n];\n\nconst ACTIVITY_LEVELS = [\n  { id: 'sedentary', label: 'Sedentary', description: 'Little to no exercise' },\n  { id: 'light', label: 'Light', description: 'Exercise 1-3 days/week' },\n  { id: 'moderate', label: 'Moderate', description: 'Exercise 3-5 days/week' },\n  { id: 'active', label: 'Active', description: 'Exercise 6-7 days/week' },\n  { id: 'very_active', label: 'Very Active', description: 'Intense daily exercise' },\n];\n\nexport default function ProfileScreen() {\n  const navigation = useNavigation<NativeStackNavigationProp<RootStackParamList>>();\n  const { colors } = useTheme();\n  const { user, logout, updateUser } = useAuth();\n  const { dailyGoal, setDailyGoal: saveDailyGoal } = useWaterTracking();\n  const { colorScheme, toggleColorScheme } = useColorScheme();\n  \n  const [showGoalCalculator, setShowGoalCalculator] = useState(false);\n  const [weightInput, setWeightInput] = useState('70');\n  const [selectedActivity, setSelectedActivity] = useState<string>('moderate');\n  const [isEditingGoal, setIsEditingGoal] = useState(false);\n  const [goalInput, setGoalInput] = useState(dailyGoal.toString());\n  const [showNotificationSettings, setShowNotificationSettings] = useState(false);\n  const [notificationSettings, setNotificationSettings] = useState<NotificationSettings>({\n    enabled: false,\n    intervalHours: 2,\n    startHour: 8,\n    endHour: 20,\n  });\n\n  useEffect(() => {\n    loadNotificationSettings();\n  }, []);\n\n  const loadNotificationSettings = async () => {\n    const settings = await NotificationService.getSettings();\n    setNotificationSettings(settings);\n  };\n\n  const calculatedGoal = weightInput ? calculateWaterGoal(parseInt(weightInput, 10) || 70, selectedActivity) : 2000;\n\n  const handleOpenCalculator = () => {\n    setWeightInput((user?.weight || 70).toString());\n    setSelectedActivity(user?.activityLevel || 'moderate');\n    setShowGoalCalculator(true);\n  };\n\n  const handleAvatarChange = async (avatarId: string) => {\n    if (user) {\n      await updateUser({ ...user, avatar: avatarId });\n    }\n  };\n\n  const handleSaveGoal = async () => {\n    const newGoal = parseInt(goalInput, 10);\n    if (isNaN(newGoal) || newGoal <= 0) {\n      Alert.alert('Invalid Goal', 'Please enter a valid goal amount');\n      return;\n    }\n    await saveDailyGoal(newGoal);\n    if (user) {\n      await updateUser({ ...user, dailyGoal: newGoal });\n    }\n    setIsEditingGoal(false);\n  };\n\n  const handleApplyCalculatedGoal = async () => {\n    const weight = parseInt(weightInput, 10);\n    if (isNaN(weight) || weight <= 0) {\n      Alert.alert('Invalid Weight', 'Please enter a valid weight');\n      return;\n    }\n    \n    await saveDailyGoal(calculatedGoal);\n    if (user) {\n      await updateUser({ \n        ...user, \n        dailyGoal: calculatedGoal,\n        weight,\n        activityLevel: selectedActivity as any\n      });\n    }\n    setGoalInput(calculatedGoal.toString());\n    setShowGoalCalculator(false);\n  };\n\n  const handleToggleNotifications = async (value: boolean) => {\n    const newSettings = { ...notificationSettings, enabled: value };\n    setNotificationSettings(newSettings);\n    \n    if (value) {\n      const hasPermission = await NotificationService.requestPermissions();\n      if (!hasPermission) {\n        Alert.alert(\n          'Permission Required',\n          'Please enable notifications in your device settings to use this feature.',\n          [{ text: 'OK' }]\n        );\n        setNotificationSettings({ ...notificationSettings, enabled: false });\n        return;\n      }\n    }\n    \n    await NotificationService.saveSettings(newSettings);\n  };\n\n  const handleSaveNotificationSettings = async () => {\n    if (notificationSettings.startHour >= notificationSettings.endHour) {\n      Alert.alert('Invalid Time Range', 'Start hour must be before end hour');\n      return;\n    }\n    \n    if (notificationSettings.intervalHours <= 0) {\n      Alert.alert('Invalid Interval', 'Interval must be at least 1 hour');\n      return;\n    }\n    \n    await NotificationService.saveSettings(notificationSettings);\n    await loadNotificationSettings();\n    setShowNotificationSettings(false);\n    Alert.alert('Success', 'Notification settings saved successfully');\n  };\n\n  const handleLogout = () => {\n    Alert.alert(\n      'Logout',\n      'Are you sure you want to logout?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Logout',\n          style: 'destructive',\n          onPress: async () => {\n            await logout();\n            navigation.replace('Login');\n          },\n        },\n      ]\n    );\n  };\n\n  const handleDeleteAccount = () => {\n    Alert.alert(\n      'Delete Account',\n      'Are you absolutely sure? This action cannot be undone and will delete all your data.',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Delete',\n          style: 'destructive',\n          onPress: () => {\n            Alert.alert(\n              'Final Confirmation',\n              'This is your last chance. Delete your account?',\n              [\n                { text: 'Cancel', style: 'cancel' },\n                {\n                  text: 'Delete Forever',\n                  style: 'destructive',\n                  onPress: async () => {\n                    await logout();\n                    navigation.replace('Login');\n                  },\n                },\n              ]\n            );\n          },\n        },\n      ]\n    );\n  };\n\n  const currentAvatar = AVATARS.find(a => a.id === user?.avatar) || AVATARS[0];\n\n  return (\n    <ScreenScrollView contentContainerStyle={styles.container}>\n      <View style={styles.profileSection}>\n        <Image source={currentAvatar.source} style={styles.avatar} />\n        <ThemedText style={[styles.name, { color: colors.text }]}>\n          {user?.name}\n        </ThemedText>\n        <ThemedText style={[styles.email, { color: colors.textSecondary }]}>\n          {user?.email}\n        </ThemedText>\n      </View>\n\n      <View style={styles.section}>\n        <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n          Avatar\n        </ThemedText>\n        <View style={styles.avatarGrid}>\n          {AVATARS.map((avatar) => (\n            <Pressable\n              key={avatar.id}\n              onPress={() => handleAvatarChange(avatar.id)}\n              style={({ pressed }) => [\n                styles.avatarOption,\n                {\n                  borderColor: user?.avatar === avatar.id ? colors.primary : colors.border,\n                  borderWidth: 2,\n                  opacity: pressed ? 0.7 : 1,\n                }\n              ]}\n            >\n              <Image source={avatar.source} style={styles.avatarOptionImage} />\n            </Pressable>\n          ))}\n        </View>\n      </View>\n\n      <View style={styles.section}>\n        <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n          Daily Water Goal\n        </ThemedText>\n        <View style={[styles.settingCard, { backgroundColor: colors.surface, borderColor: colors.border }]}>\n          {isEditingGoal ? (\n            <View style={styles.goalEditContainer}>\n              <TextInput\n                style={[styles.goalInput, { \n                  backgroundColor: colors.background,\n                  borderColor: colors.border,\n                  color: colors.text\n                }]}\n                value={goalInput}\n                onChangeText={setGoalInput}\n                keyboardType=\"number-pad\"\n                placeholder=\"Enter goal in ml\"\n                placeholderTextColor={colors.textSecondary}\n              />\n              <Pressable\n                style={[styles.saveButton, { backgroundColor: colors.primary }]}\n                onPress={handleSaveGoal}\n              >\n                <ThemedText style={styles.saveButtonText}>Save</ThemedText>\n              </Pressable>\n            </View>\n          ) : (\n            <>\n              <Pressable \n                style={styles.settingRow}\n                onPress={() => {\n                  setGoalInput(dailyGoal.toString());\n                  setIsEditingGoal(true);\n                }}\n              >\n                <ThemedText style={[styles.settingLabel, { color: colors.text }]}>\n                  {dailyGoal} ml per day\n                </ThemedText>\n                <MaterialCommunityIcons name=\"pencil\" size={20} color={colors.textSecondary} />\n              </Pressable>\n              <Pressable\n                style={({ pressed }) => [\n                  styles.calculateButton,\n                  { \n                    backgroundColor: colors.background,\n                    borderColor: colors.primary,\n                    opacity: pressed ? 0.7 : 1\n                  }\n                ]}\n                onPress={handleOpenCalculator}\n              >\n                <MaterialCommunityIcons name=\"calculator\" size={18} color={colors.primary} />\n                <ThemedText style={[styles.calculateButtonText, { color: colors.primary }]}>\n                  Calculate Based on Weight & Activity\n                </ThemedText>\n              </Pressable>\n            </>\n          )}\n        </View>\n      </View>\n\n      <View style={styles.section}>\n        <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n          Preferences\n        </ThemedText>\n        <View style={[styles.settingCard, { backgroundColor: colors.surface, borderColor: colors.border }]}>\n          <View style={styles.settingRow}>\n            <View style={styles.settingInfo}>\n              <MaterialCommunityIcons \n                name={colorScheme === 'dark' ? 'weather-night' : 'white-balance-sunny'} \n                size={24} \n                color={colors.text} \n              />\n              <ThemedText style={[styles.settingLabel, { color: colors.text }]}>\n                Dark Mode\n              </ThemedText>\n            </View>\n            <Switch\n              value={colorScheme === 'dark'}\n              onValueChange={toggleColorScheme}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor=\"#FFFFFF\"\n            />\n          </View>\n        </View>\n      </View>\n\n      <View style={styles.section}>\n        <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n          Reminders\n        </ThemedText>\n        <View style={[styles.settingCard, { backgroundColor: colors.surface, borderColor: colors.border }]}>\n          <View style={styles.settingRow}>\n            <View style={styles.settingInfo}>\n              <MaterialCommunityIcons \n                name=\"bell\" \n                size={24} \n                color={colors.text} \n              />\n              <ThemedText style={[styles.settingLabel, { color: colors.text }]}>\n                Enable Reminders\n              </ThemedText>\n            </View>\n            <Switch\n              value={notificationSettings.enabled}\n              onValueChange={handleToggleNotifications}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor=\"#FFFFFF\"\n            />\n          </View>\n          {notificationSettings.enabled ? (\n            <Pressable\n              style={({ pressed }) => [\n                styles.configureButton,\n                { \n                  backgroundColor: colors.background,\n                  borderColor: colors.primary,\n                  opacity: pressed ? 0.7 : 1\n                }\n              ]}\n              onPress={() => setShowNotificationSettings(true)}\n            >\n              <MaterialCommunityIcons name=\"cog\" size={18} color={colors.primary} />\n              <ThemedText style={[styles.configureButtonText, { color: colors.primary }]}>\n                Configure Reminder Schedule\n              </ThemedText>\n            </Pressable>\n          ) : null}\n        </View>\n      </View>\n\n      <View style={styles.section}>\n        <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n          Progress\n        </ThemedText>\n        <Pressable\n          style={({ pressed }) => [\n            styles.settingCard,\n            { backgroundColor: colors.surface, borderColor: colors.border, opacity: pressed ? 0.7 : 1 }\n          ]}\n          onPress={() => navigation.navigate('Achievements')}\n        >\n          <View style={styles.settingRow}>\n            <View style={styles.settingInfo}>\n              <MaterialCommunityIcons name=\"trophy\" size={24} color={colors.primary} />\n              <ThemedText style={[styles.settingLabel, { color: colors.text }]}>\n                View Achievements\n              </ThemedText>\n            </View>\n            <MaterialCommunityIcons name=\"chevron-right\" size={24} color={colors.textSecondary} />\n          </View>\n        </Pressable>\n      </View>\n\n      <View style={styles.section}>\n        <ThemedText style={[styles.sectionTitle, { color: colors.text }]}>\n          Account\n        </ThemedText>\n        <Pressable\n          style={({ pressed }) => [\n            styles.button,\n            styles.logoutButton,\n            { backgroundColor: colors.surface, borderColor: colors.border, opacity: pressed ? 0.7 : 1 }\n          ]}\n          onPress={handleLogout}\n        >\n          <MaterialCommunityIcons name=\"logout\" size={20} color={colors.text} />\n          <ThemedText style={[styles.buttonText, { color: colors.text }]}>\n            Logout\n          </ThemedText>\n        </Pressable>\n\n        <Pressable\n          style={({ pressed }) => [\n            styles.button,\n            styles.deleteButton,\n            { opacity: pressed ? 0.7 : 1 }\n          ]}\n          onPress={handleDeleteAccount}\n        >\n          <MaterialCommunityIcons name=\"delete\" size={20} color=\"#FFFFFF\" />\n          <ThemedText style={[styles.buttonText, { color: '#FFFFFF' }]}>\n            Delete Account\n          </ThemedText>\n        </Pressable>\n      </View>\n\n      <Modal\n        visible={showGoalCalculator}\n        transparent\n        animationType=\"fade\"\n        onRequestClose={() => setShowGoalCalculator(false)}\n      >\n        <Pressable \n          style={styles.modalOverlay}\n          onPress={() => setShowGoalCalculator(false)}\n        >\n          <Pressable \n            style={[styles.modalContent, { backgroundColor: colors.surface }]}\n            onPress={(e) => e.stopPropagation()}\n          >\n            <ThemedText style={[styles.modalTitle, { color: colors.text }]}>\n              Calculate Water Goal\n            </ThemedText>\n            \n            <View style={styles.calculatorSection}>\n              <ThemedText style={[styles.inputLabel, { color: colors.text }]}>\n                Your Weight (kg)\n              </ThemedText>\n              <TextInput\n                style={[styles.input, { \n                  backgroundColor: colors.background,\n                  borderColor: colors.border,\n                  color: colors.text\n                }]}\n                placeholder=\"Enter weight in kg\"\n                placeholderTextColor={colors.textSecondary}\n                value={weightInput}\n                onChangeText={setWeightInput}\n                keyboardType=\"number-pad\"\n              />\n            </View>\n\n            <View style={styles.calculatorSection}>\n              <ThemedText style={[styles.inputLabel, { color: colors.text }]}>\n                Activity Level\n              </ThemedText>\n              {ACTIVITY_LEVELS.map((level) => (\n                <Pressable\n                  key={level.id}\n                  style={({ pressed }) => [\n                    styles.activityOption,\n                    {\n                      backgroundColor: selectedActivity === level.id ? colors.primary : colors.background,\n                      borderColor: selectedActivity === level.id ? colors.primary : colors.border,\n                      opacity: pressed ? 0.7 : 1,\n                    }\n                  ]}\n                  onPress={() => setSelectedActivity(level.id)}\n                >\n                  <View style={styles.activityContent}>\n                    <ThemedText style={[\n                      styles.activityLabel,\n                      { color: selectedActivity === level.id ? '#FFFFFF' : colors.text }\n                    ]}>\n                      {level.label}\n                    </ThemedText>\n                    <ThemedText style={[\n                      styles.activityDescription,\n                      { color: selectedActivity === level.id ? '#FFFFFF' : colors.textSecondary }\n                    ]}>\n                      {level.description}\n                    </ThemedText>\n                  </View>\n                  {selectedActivity === level.id ? (\n                    <MaterialCommunityIcons name=\"check-circle\" size={24} color=\"#FFFFFF\" />\n                  ) : null}\n                </Pressable>\n              ))}\n            </View>\n\n            <View style={[styles.recommendationBox, { backgroundColor: colors.background, borderColor: colors.primary }]}>\n              <ThemedText style={[styles.recommendationLabel, { color: colors.textSecondary }]}>\n                Recommended Daily Goal\n              </ThemedText>\n              <ThemedText style={[styles.recommendationValue, { color: colors.primary }]}>\n                {calculatedGoal} ml\n              </ThemedText>\n            </View>\n\n            <View style={styles.modalButtons}>\n              <Pressable\n                style={({ pressed }) => [\n                  styles.modalButton,\n                  styles.cancelModalButton,\n                  { borderColor: colors.border, opacity: pressed ? 0.7 : 1 }\n                ]}\n                onPress={() => setShowGoalCalculator(false)}\n              >\n                <ThemedText style={[styles.cancelButtonText, { color: colors.text }]}>\n                  Cancel\n                </ThemedText>\n              </Pressable>\n              <Pressable\n                style={({ pressed }) => [\n                  styles.modalButton,\n                  styles.applyButton,\n                  { backgroundColor: colors.primary, opacity: pressed ? 0.9 : 1 }\n                ]}\n                onPress={handleApplyCalculatedGoal}\n              >\n                <ThemedText style={styles.applyButtonText}>Apply</ThemedText>\n              </Pressable>\n            </View>\n          </Pressable>\n        </Pressable>\n      </Modal>\n\n      <Modal\n        visible={showNotificationSettings}\n        transparent\n        animationType=\"fade\"\n        onRequestClose={() => setShowNotificationSettings(false)}\n      >\n        <Pressable \n          style={styles.modalOverlay}\n          onPress={() => setShowNotificationSettings(false)}\n        >\n          <Pressable \n            style={[styles.modalContent, { backgroundColor: colors.surface }]}\n            onPress={(e) => e.stopPropagation()}\n          >\n            <View style={styles.modalHeader}>\n              <ThemedText style={[styles.modalTitle, { color: colors.text }]}>\n                Reminder Schedule\n              </ThemedText>\n              <Pressable onPress={() => setShowNotificationSettings(false)}>\n                <MaterialCommunityIcons name=\"close\" size={24} color={colors.text} />\n              </Pressable>\n            </View>\n\n            <View style={styles.notificationSettingsContainer}>\n              <View style={styles.settingGroup}>\n                <ThemedText style={[styles.inputLabel, { color: colors.text }]}>\n                  Reminder Interval\n                </ThemedText>\n                <View style={styles.intervalOptions}>\n                  {[1, 2, 3, 4].map((hours) => (\n                    <Pressable\n                      key={hours}\n                      style={({ pressed }) => [\n                        styles.intervalButton,\n                        {\n                          backgroundColor: notificationSettings.intervalHours === hours ? colors.primary : colors.background,\n                          borderColor: colors.border,\n                          opacity: pressed ? 0.7 : 1\n                        }\n                      ]}\n                      onPress={() => setNotificationSettings({ ...notificationSettings, intervalHours: hours })}\n                    >\n                      <ThemedText style={[\n                        styles.intervalButtonText,\n                        { color: notificationSettings.intervalHours === hours ? '#FFFFFF' : colors.text }\n                      ]}>\n                        {hours}h\n                      </ThemedText>\n                    </Pressable>\n                  ))}\n                </View>\n              </View>\n\n              <View style={styles.settingGroup}>\n                <ThemedText style={[styles.inputLabel, { color: colors.text }]}>\n                  Active Hours\n                </ThemedText>\n                <View style={styles.timeRangeContainer}>\n                  <View style={styles.timeInputGroup}>\n                    <ThemedText style={[styles.timeLabel, { color: colors.textSecondary }]}>\n                      Start\n                    </ThemedText>\n                    <TextInput\n                      style={[styles.timeInput, { \n                        backgroundColor: colors.background,\n                        borderColor: colors.border,\n                        color: colors.text\n                      }]}\n                      value={notificationSettings.startHour.toString()}\n                      onChangeText={(text) => {\n                        const hour = parseInt(text, 10);\n                        if (!isNaN(hour) && hour >= 0 && hour <= 23) {\n                          setNotificationSettings({ ...notificationSettings, startHour: hour });\n                        }\n                      }}\n                      keyboardType=\"number-pad\"\n                      maxLength={2}\n                    />\n                    <ThemedText style={[styles.timeLabel, { color: colors.textSecondary }]}>\n                      :00\n                    </ThemedText>\n                  </View>\n\n                  <ThemedText style={[styles.timeSeparator, { color: colors.textSecondary }]}>\n                    to\n                  </ThemedText>\n\n                  <View style={styles.timeInputGroup}>\n                    <ThemedText style={[styles.timeLabel, { color: colors.textSecondary }]}>\n                      End\n                    </ThemedText>\n                    <TextInput\n                      style={[styles.timeInput, { \n                        backgroundColor: colors.background,\n                        borderColor: colors.border,\n                        color: colors.text\n                      }]}\n                      value={notificationSettings.endHour.toString()}\n                      onChangeText={(text) => {\n                        const hour = parseInt(text, 10);\n                        if (!isNaN(hour) && hour >= 0 && hour <= 23) {\n                          setNotificationSettings({ ...notificationSettings, endHour: hour });\n                        }\n                      }}\n                      keyboardType=\"number-pad\"\n                      maxLength={2}\n                    />\n                    <ThemedText style={[styles.timeLabel, { color: colors.textSecondary }]}>\n                      :00\n                    </ThemedText>\n                  </View>\n                </View>\n              </View>\n\n              <View style={[styles.infoBox, { backgroundColor: colors.background, borderColor: colors.border }]}>\n                <MaterialCommunityIcons name=\"information\" size={20} color={colors.textSecondary} />\n                <ThemedText style={[styles.infoText, { color: colors.textSecondary }]}>\n                  You'll receive reminders every {notificationSettings.intervalHours} hour(s) between {notificationSettings.startHour}:00 and {notificationSettings.endHour}:00\n                </ThemedText>\n              </View>\n            </View>\n\n            <View style={styles.modalButtons}>\n              <Pressable\n                style={({ pressed }) => [\n                  styles.modalButton,\n                  styles.cancelModalButton,\n                  { borderColor: colors.border, opacity: pressed ? 0.7 : 1 }\n                ]}\n                onPress={() => setShowNotificationSettings(false)}\n              >\n                <ThemedText style={[styles.cancelButtonText, { color: colors.text }]}>\n                  Cancel\n                </ThemedText>\n              </Pressable>\n              <Pressable\n                style={({ pressed }) => [\n                  styles.modalButton,\n                  styles.applyButton,\n                  { backgroundColor: colors.primary, opacity: pressed ? 0.9 : 1 }\n                ]}\n                onPress={handleSaveNotificationSettings}\n              >\n                <ThemedText style={styles.applyButtonText}>Save</ThemedText>\n              </Pressable>\n            </View>\n          </Pressable>\n        </Pressable>\n      </Modal>\n    </ScreenScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingHorizontal: Spacing['2xl'],\n    paddingBottom: Spacing['4xl'],\n  },\n  profileSection: {\n    alignItems: 'center',\n    paddingVertical: Spacing['2xl'],\n  },\n  avatar: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    marginBottom: Spacing.lg,\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: '700',\n    marginBottom: Spacing.xs,\n  },\n  email: {\n    fontSize: 14,\n  },\n  section: {\n    marginBottom: Spacing['2xl'],\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    marginBottom: Spacing.md,\n  },\n  avatarGrid: {\n    flexDirection: 'row',\n    gap: Spacing.md,\n  },\n  avatarOption: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    overflow: 'hidden',\n  },\n  avatarOptionImage: {\n    width: '100%',\n    height: '100%',\n  },\n  settingCard: {\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n    padding: Spacing.lg,\n  },\n  settingRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  settingInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.md,\n  },\n  settingLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  goalEditContainer: {\n    flexDirection: 'row',\n    gap: Spacing.md,\n  },\n  goalInput: {\n    flex: 1,\n    height: 44,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.md,\n    fontSize: 16,\n  },\n  saveButton: {\n    paddingHorizontal: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    justifyContent: 'center',\n  },\n  saveButtonText: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  button: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: Spacing.buttonHeight,\n    borderRadius: BorderRadius.xs,\n    gap: Spacing.sm,\n    marginBottom: Spacing.md,\n  },\n  logoutButton: {\n    borderWidth: 1,\n  },\n  deleteButton: {\n    backgroundColor: '#EF4444',\n  },\n  buttonText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  calculateButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.sm,\n    marginTop: Spacing.md,\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n  },\n  calculateButtonText: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '90%',\n    maxHeight: '80%',\n    padding: Spacing['2xl'],\n    borderRadius: BorderRadius.md,\n  },\n  modalTitle: {\n    fontSize: 22,\n    fontWeight: '700',\n    marginBottom: Spacing.xl,\n  },\n  calculatorSection: {\n    marginBottom: Spacing.xl,\n  },\n  inputLabel: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: Spacing.md,\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n  },\n  activityOption: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n    marginBottom: Spacing.sm,\n  },\n  activityContent: {\n    flex: 1,\n  },\n  activityLabel: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: Spacing.xs,\n  },\n  activityDescription: {\n    fontSize: 13,\n  },\n  recommendationBox: {\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 2,\n    alignItems: 'center',\n    marginBottom: Spacing.xl,\n  },\n  recommendationLabel: {\n    fontSize: 14,\n    marginBottom: Spacing.xs,\n  },\n  recommendationValue: {\n    fontSize: 28,\n    fontWeight: '700',\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    gap: Spacing.md,\n  },\n  modalButton: {\n    flex: 1,\n    height: Spacing.buttonHeight,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: BorderRadius.xs,\n  },\n  cancelModalButton: {\n    borderWidth: 1,\n  },\n  cancelButtonText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  applyButton: {},\n  applyButtonText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#FFFFFF',\n  },\n  configureButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.sm,\n    marginTop: Spacing.md,\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n  },\n  configureButtonText: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: Spacing.xl,\n  },\n  notificationSettingsContainer: {\n    marginBottom: Spacing.xl,\n  },\n  settingGroup: {\n    marginBottom: Spacing.xl,\n  },\n  intervalOptions: {\n    flexDirection: 'row',\n    gap: Spacing.md,\n  },\n  intervalButton: {\n    flex: 1,\n    paddingVertical: Spacing.md,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n    alignItems: 'center',\n  },\n  intervalButtonText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  timeRangeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.md,\n  },\n  timeInputGroup: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  timeLabel: {\n    fontSize: 14,\n  },\n  timeInput: {\n    width: 50,\n    height: 44,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.sm,\n    fontSize: 16,\n    textAlign: 'center',\n  },\n  timeSeparator: {\n    fontSize: 14,\n  },\n  infoBox: {\n    flexDirection: 'row',\n    gap: Spacing.sm,\n    padding: Spacing.md,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n  },\n  infoText: {\n    flex: 1,\n    fontSize: 13,\n    lineHeight: 18,\n  },\n});\n","size_bytes":32345},"utils/storage.ts":{"content":"import AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst KEYS = {\n  USER: '@hydrotrack:user',\n  THEME: '@hydrotrack:theme',\n  WATER_LOGS: '@hydrotrack:water_logs',\n  DAILY_GOAL: '@hydrotrack:daily_goal',\n  NOTIFICATION_SETTINGS: '@hydrotrack:notification_settings',\n  ACHIEVEMENTS: '@hydrotrack:achievements',\n  STATS: '@hydrotrack:stats',\n};\n\nexport interface User {\n  id: string;\n  name: string;\n  email: string;\n  avatar: string;\n  dailyGoal: number;\n  weight?: number;\n  activityLevel?: 'sedentary' | 'light' | 'moderate' | 'active' | 'very_active';\n}\n\nexport interface WaterLog {\n  id: string;\n  amount: number;\n  timestamp: number;\n  date: string;\n}\n\nexport interface NotificationSettings {\n  enabled: boolean;\n  intervalHours: number;\n  startHour: number;\n  endHour: number;\n}\n\nexport interface UnlockedAchievement {\n  id: string;\n  unlockedAt: number;\n}\n\nexport interface UserStats {\n  currentStreak: number;\n  bestStreak: number;\n  totalDaysMetGoal: number;\n  totalWaterConsumed: number;\n  lastActivityDate: string;\n}\n\nexport const StorageService = {\n  async saveUser(user: User): Promise<void> {\n    await AsyncStorage.setItem(KEYS.USER, JSON.stringify(user));\n  },\n\n  async getUser(): Promise<User | null> {\n    const data = await AsyncStorage.getItem(KEYS.USER);\n    return data ? JSON.parse(data) : null;\n  },\n\n  async removeUser(): Promise<void> {\n    await AsyncStorage.removeItem(KEYS.USER);\n  },\n\n  async saveTheme(theme: 'light' | 'dark'): Promise<void> {\n    await AsyncStorage.setItem(KEYS.THEME, theme);\n  },\n\n  async getTheme(): Promise<'light' | 'dark' | null> {\n    return (await AsyncStorage.getItem(KEYS.THEME)) as 'light' | 'dark' | null;\n  },\n\n  async saveWaterLogs(logs: WaterLog[]): Promise<void> {\n    await AsyncStorage.setItem(KEYS.WATER_LOGS, JSON.stringify(logs));\n  },\n\n  async getWaterLogs(): Promise<WaterLog[]> {\n    const data = await AsyncStorage.getItem(KEYS.WATER_LOGS);\n    return data ? JSON.parse(data) : [];\n  },\n\n  async saveDailyGoal(goal: number): Promise<void> {\n    await AsyncStorage.setItem(KEYS.DAILY_GOAL, goal.toString());\n  },\n\n  async getDailyGoal(): Promise<number> {\n    const data = await AsyncStorage.getItem(KEYS.DAILY_GOAL);\n    return data ? parseInt(data, 10) : 2000;\n  },\n\n  async setNotificationSettings(settings: NotificationSettings): Promise<void> {\n    await AsyncStorage.setItem(KEYS.NOTIFICATION_SETTINGS, JSON.stringify(settings));\n  },\n\n  async getNotificationSettings(): Promise<NotificationSettings | null> {\n    const data = await AsyncStorage.getItem(KEYS.NOTIFICATION_SETTINGS);\n    return data ? JSON.parse(data) : null;\n  },\n\n  async saveAchievements(achievements: UnlockedAchievement[]): Promise<void> {\n    await AsyncStorage.setItem(KEYS.ACHIEVEMENTS, JSON.stringify(achievements));\n  },\n\n  async getAchievements(): Promise<UnlockedAchievement[]> {\n    const data = await AsyncStorage.getItem(KEYS.ACHIEVEMENTS);\n    return data ? JSON.parse(data) : [];\n  },\n\n  async saveStats(stats: UserStats): Promise<void> {\n    await AsyncStorage.setItem(KEYS.STATS, JSON.stringify(stats));\n  },\n\n  async getStats(): Promise<UserStats | null> {\n    const data = await AsyncStorage.getItem(KEYS.STATS);\n    return data ? JSON.parse(data) : null;\n  },\n\n  async clearAll(): Promise<void> {\n    await AsyncStorage.multiRemove([KEYS.USER, KEYS.WATER_LOGS, KEYS.DAILY_GOAL, KEYS.NOTIFICATION_SETTINGS, KEYS.ACHIEVEMENTS, KEYS.STATS]);\n  },\n};\n","size_bytes":3433},"components/ErrorBoundary.tsx":{"content":"import React, { Component, ComponentType, PropsWithChildren } from \"react\";\nimport { ErrorFallback, ErrorFallbackProps } from \"@/components/ErrorFallback\";\n\nexport type ErrorBoundaryProps = PropsWithChildren<{\n  FallbackComponent?: ComponentType<ErrorFallbackProps>;\n  onError?: (error: Error, stackTrace: string) => void;\n}>;\n\ntype ErrorBoundaryState = { error: Error | null };\n\n/**\n * This is a special case for for using the class components. Error boundaries must be class components because React only provides error boundary functionality through lifecycle methods (componentDidCatch and getDerivedStateFromError) which are not available in functional components.\n * https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary\n */\n\nexport class ErrorBoundary extends Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  state: ErrorBoundaryState = { error: null };\n\n  static defaultProps: {\n    FallbackComponent: ComponentType<ErrorFallbackProps>;\n  } = {\n    FallbackComponent: ErrorFallback,\n  };\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { error };\n  }\n\n  componentDidCatch(error: Error, info: { componentStack: string }): void {\n    if (typeof this.props.onError === \"function\") {\n      this.props.onError(error, info.componentStack);\n    }\n  }\n\n  resetError = (): void => {\n    this.setState({ error: null });\n  };\n\n  render() {\n    const { FallbackComponent } = this.props;\n\n    return this.state.error && FallbackComponent ? (\n      <FallbackComponent\n        error={this.state.error}\n        resetError={this.resetError}\n      />\n    ) : (\n      this.props.children\n    );\n  }\n}\n","size_bytes":1674},"components/ScreenKeyboardAwareScrollView.tsx":{"content":"import { Platform, StyleSheet } from \"react-native\";\nimport {\n  KeyboardAwareScrollView,\n  KeyboardAwareScrollViewProps,\n} from \"react-native-keyboard-controller\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useScreenInsets } from \"@/hooks/useScreenInsets\";\nimport { Spacing } from \"@/constants/theme\";\nimport { ScreenScrollView } from \"./ScreenScrollView\";\n\nexport function ScreenKeyboardAwareScrollView({\n  children,\n  contentContainerStyle,\n  style,\n  keyboardShouldPersistTaps = \"handled\",\n  ...scrollViewProps\n}: KeyboardAwareScrollViewProps) {\n  /**\n   * KeyboardAwareScrollView isn't compatible with web (it relies on native APIs), so the code falls back to ScreenScrollView on web to avoid runtime errors.\n   */\n  if (Platform.OS === \"web\") {\n    return (\n      <ScreenScrollView\n        style={style}\n        contentContainerStyle={contentContainerStyle}\n        keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n        {...scrollViewProps}\n      >\n        {children}\n      </ScreenScrollView>\n    );\n  }\n\n  return <KeyboardAwareScrollViewNative style={style} contentContainerStyle={contentContainerStyle} keyboardShouldPersistTaps={keyboardShouldPersistTaps} {...scrollViewProps}>{children}</KeyboardAwareScrollViewNative>;\n}\n\nfunction KeyboardAwareScrollViewNative({\n  children,\n  contentContainerStyle,\n  style,\n  keyboardShouldPersistTaps,\n  ...scrollViewProps\n}: KeyboardAwareScrollViewProps) {\n  const { theme } = useTheme();\n  const { paddingTop, paddingBottom, scrollInsetBottom } = useScreenInsets();\n\n  return (\n    <KeyboardAwareScrollView\n      style={[\n        styles.container,\n        { backgroundColor: theme.backgroundRoot },\n        style,\n      ]}\n      contentContainerStyle={[\n        {\n          paddingTop,\n          paddingBottom,\n        },\n        styles.contentContainer,\n        contentContainerStyle,\n      ]}\n      scrollIndicatorInsets={{ bottom: scrollInsetBottom }}\n      keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n      {...scrollViewProps}\n    >\n      {children}\n    </KeyboardAwareScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  contentContainer: {\n    paddingHorizontal: Spacing.xl,\n  },\n});\n","size_bytes":2207},"utils/notifications.ts":{"content":"import * as Notifications from 'expo-notifications';\nimport { Platform } from 'react-native';\nimport { StorageService } from './storage';\n\nexport interface NotificationSettings {\n  enabled: boolean;\n  intervalHours: number;\n  startHour: number;\n  endHour: number;\n}\n\nconst DEFAULT_SETTINGS: NotificationSettings = {\n  enabled: false,\n  intervalHours: 2,\n  startHour: 8,\n  endHour: 20,\n};\n\nNotifications.setNotificationHandler({\n  handleNotification: async () => ({\n    shouldShowAlert: true,\n    shouldPlaySound: true,\n    shouldSetBadge: false,\n  }),\n});\n\nexport class NotificationService {\n  static async requestPermissions(): Promise<boolean> {\n    const { status: existingStatus } = await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    \n    if (existingStatus !== 'granted') {\n      const { status } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    \n    return finalStatus === 'granted';\n  }\n\n  static async getSettings(): Promise<NotificationSettings> {\n    const settings = await StorageService.getNotificationSettings();\n    return settings || DEFAULT_SETTINGS;\n  }\n\n  static async saveSettings(settings: NotificationSettings): Promise<void> {\n    if (settings.enabled) {\n      const hasPermission = await this.requestPermissions();\n      if (!hasPermission) {\n        const disabledSettings = { ...settings, enabled: false };\n        await StorageService.setNotificationSettings(disabledSettings);\n        return;\n      }\n      await StorageService.setNotificationSettings(settings);\n      await this.scheduleNotifications(settings);\n    } else {\n      await StorageService.setNotificationSettings(settings);\n      await this.cancelAllNotifications();\n    }\n  }\n\n  static async scheduleNotifications(settings: NotificationSettings): Promise<void> {\n    await this.cancelAllNotifications();\n\n    if (!settings.enabled || settings.intervalHours <= 0) {\n      return;\n    }\n\n    const hasPermission = await this.requestPermissions();\n    if (!hasPermission) {\n      return;\n    }\n\n    const notificationTimes: { hour: number; minute: number }[] = [];\n    \n    for (let hour = settings.startHour; hour <= settings.endHour; hour += settings.intervalHours) {\n      if (hour <= settings.endHour) {\n        notificationTimes.push({ hour: hour >= 24 ? hour - 24 : hour, minute: 0 });\n      }\n    }\n\n    for (const time of notificationTimes) {\n      await Notifications.scheduleNotificationAsync({\n        content: {\n          title: 'Time to Hydrate!',\n          body: 'Remember to drink water and stay healthy.',\n          data: { type: 'water_reminder' },\n        },\n        trigger: {\n          hour: time.hour,\n          minute: time.minute,\n          repeats: true,\n        },\n      });\n    }\n  }\n\n  static async cancelAllNotifications(): Promise<void> {\n    await Notifications.cancelAllScheduledNotificationsAsync();\n  }\n\n  static async initializeNotifications(): Promise<void> {\n    const settings = await this.getSettings();\n    if (settings.enabled) {\n      const hasPermission = await this.requestPermissions();\n      if (hasPermission) {\n        await this.scheduleNotifications(settings);\n      } else {\n        const disabledSettings = { ...settings, enabled: false };\n        await StorageService.setNotificationSettings(disabledSettings);\n      }\n    }\n  }\n}\n","size_bytes":3344},"screens/AchievementsScreen.tsx":{"content":"import { View, StyleSheet } from 'react-native';\nimport { useState, useEffect } from 'react';\nimport { Feather } from '@expo/vector-icons';\nimport { ThemedText } from '../components/ThemedText';\nimport { ThemedView } from '../components/ThemedView';\nimport { Card } from '../components/Card';\nimport { ScreenScrollView } from '../components/ScreenScrollView';\nimport { useTheme } from '../hooks/useTheme';\nimport { useWaterTracking } from '../hooks/useWaterTracking';\nimport { Achievement, AchievementService } from '../utils/achievements';\nimport { Spacing, BorderRadius, Typography } from '../constants/theme';\n\nexport function AchievementsScreen() {\n  const { colors } = useTheme();\n  const { stats } = useWaterTracking();\n  const [unlockedAchievements, setUnlockedAchievements] = useState<Achievement[]>([]);\n  const [lockedAchievements, setLockedAchievements] = useState<Achievement[]>([]);\n\n  useEffect(() => {\n    loadAchievements();\n  }, [stats]);\n\n  const loadAchievements = async () => {\n    const unlocked = await AchievementService.getUnlockedAchievements();\n    const locked = await AchievementService.getLockedAchievements();\n    setUnlockedAchievements(unlocked);\n    setLockedAchievements(locked);\n  };\n\n  const getProgressForAchievement = (achievement: Achievement): number => {\n    if (!stats) return 0;\n\n    let current = 0;\n    switch (achievement.category) {\n      case 'streak':\n        current = Math.max(stats.currentStreak, stats.bestStreak);\n        break;\n      case 'consumption':\n        current = stats.totalWaterConsumed;\n        break;\n      case 'consistency':\n        current = stats.totalDaysMetGoal;\n        break;\n    }\n\n    return Math.min((current / achievement.requirement) * 100, 100);\n  };\n\n  const formatRequirement = (achievement: Achievement): string => {\n    switch (achievement.category) {\n      case 'streak':\n        return `${achievement.requirement} day${achievement.requirement > 1 ? 's' : ''}`;\n      case 'consumption':\n        return `${(achievement.requirement / 1000).toFixed(0)}L`;\n      case 'consistency':\n        return `${achievement.requirement} day${achievement.requirement > 1 ? 's' : ''}`;\n      default:\n        return '';\n    }\n  };\n\n  const renderAchievement = (achievement: Achievement, isUnlocked: boolean) => {\n    const progress = getProgressForAchievement(achievement);\n    \n    return (\n      <Card \n        key={achievement.id} \n        style={[\n          styles.achievementCard,\n          !isUnlocked && { opacity: 0.5 }\n        ]}\n      >\n        <View style={styles.achievementHeader}>\n          <View style={[\n            styles.iconContainer,\n            { backgroundColor: isUnlocked ? colors.primary : colors.surface }\n          ]}>\n            <Feather \n              name={achievement.icon as any} \n              size={24} \n              color={isUnlocked ? '#fff' : colors.textSecondary} \n            />\n          </View>\n          <View style={styles.achievementInfo}>\n            <ThemedText style={styles.achievementTitle}>\n              {achievement.title}\n            </ThemedText>\n            <ThemedText style={styles.achievementDescription} lightColor=\"#666\" darkColor=\"#999\">\n              {achievement.description}\n            </ThemedText>\n            <ThemedText style={styles.achievementRequirement} lightColor=\"#888\" darkColor=\"#777\">\n              {formatRequirement(achievement)}\n            </ThemedText>\n          </View>\n          {isUnlocked && (\n            <Feather name=\"check-circle\" size={24} color={colors.primary} />\n          )}\n        </View>\n        {!isUnlocked && (\n          <View style={styles.progressContainer}>\n            <View style={[styles.progressBar, { backgroundColor: colors.surface }]}>\n              <View \n                style={[\n                  styles.progressFill, \n                  { \n                    width: `${progress}%`,\n                    backgroundColor: colors.primary \n                  }\n                ]} \n              />\n            </View>\n            <ThemedText style={styles.progressText} lightColor=\"#666\" darkColor=\"#999\">\n              {progress.toFixed(0)}%\n            </ThemedText>\n          </View>\n        )}\n      </Card>\n    );\n  };\n\n  return (\n    <ScreenScrollView>\n      <View style={styles.container}>\n        <View style={styles.statsContainer}>\n          <Card style={styles.statsCard}>\n            <ThemedText style={styles.statsTitle}>Your Progress</ThemedText>\n            <View style={styles.statsGrid}>\n              <View style={styles.statItem}>\n                <Feather name=\"zap\" size={24} color={colors.primary} />\n                <ThemedText style={styles.statValue}>{stats?.currentStreak || 0}</ThemedText>\n                <ThemedText style={styles.statLabel} lightColor=\"#666\" darkColor=\"#999\">\n                  Current Streak\n                </ThemedText>\n              </View>\n              <View style={styles.statItem}>\n                <Feather name=\"award\" size={24} color={colors.primary} />\n                <ThemedText style={styles.statValue}>{stats?.bestStreak || 0}</ThemedText>\n                <ThemedText style={styles.statLabel} lightColor=\"#666\" darkColor=\"#999\">\n                  Best Streak\n                </ThemedText>\n              </View>\n              <View style={styles.statItem}>\n                <Feather name=\"droplet\" size={24} color={colors.primary} />\n                <ThemedText style={styles.statValue}>\n                  {((stats?.totalWaterConsumed || 0) / 1000).toFixed(1)}L\n                </ThemedText>\n                <ThemedText style={styles.statLabel} lightColor=\"#666\" darkColor=\"#999\">\n                  Total Water\n                </ThemedText>\n              </View>\n            </View>\n          </Card>\n        </View>\n\n        {unlockedAchievements.length > 0 && (\n          <View style={styles.section}>\n            <ThemedText style={styles.sectionTitle}>\n              Unlocked ({unlockedAchievements.length})\n            </ThemedText>\n            {unlockedAchievements.map(achievement => \n              renderAchievement(achievement, true)\n            )}\n          </View>\n        )}\n\n        {lockedAchievements.length > 0 && (\n          <View style={styles.section}>\n            <ThemedText style={styles.sectionTitle}>\n              Locked ({lockedAchievements.length})\n            </ThemedText>\n            {lockedAchievements.map(achievement => \n              renderAchievement(achievement, false)\n            )}\n          </View>\n        )}\n      </View>\n    </ScreenScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: Spacing.md,\n  },\n  statsContainer: {\n    marginBottom: Spacing.lg,\n  },\n  statsCard: {\n    padding: Spacing.lg,\n  },\n  statsTitle: {\n    fontSize: 18,\n    fontWeight: '700',\n    marginBottom: Spacing.md,\n  },\n  statsGrid: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n  },\n  statItem: {\n    alignItems: 'center',\n    gap: Spacing.xs,\n  },\n  statValue: {\n    fontSize: 20,\n    fontWeight: '700',\n  },\n  statLabel: {\n    fontSize: 14,\n    textAlign: 'center',\n  },\n  section: {\n    marginBottom: Spacing.lg,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '700',\n    marginBottom: Spacing.md,\n  },\n  achievementCard: {\n    padding: Spacing.md,\n    marginBottom: Spacing.md,\n  },\n  achievementHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.md,\n  },\n  iconContainer: {\n    width: 48,\n    height: 48,\n    borderRadius: BorderRadius.full,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  achievementInfo: {\n    flex: 1,\n    gap: Spacing.xxs,\n  },\n  achievementTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  achievementDescription: {\n    fontSize: 14,\n  },\n  achievementRequirement: {\n    fontSize: 12,\n  },\n  progressContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: Spacing.md,\n    gap: Spacing.sm,\n  },\n  progressBar: {\n    flex: 1,\n    height: 8,\n    borderRadius: BorderRadius.sm,\n    overflow: 'hidden',\n  },\n  progressFill: {\n    height: '100%',\n    borderRadius: BorderRadius.sm,\n  },\n  progressText: {\n    fontSize: 14,\n    minWidth: 40,\n    textAlign: 'right',\n  },\n});\n","size_bytes":8185},"utils/achievements.ts":{"content":"import { StorageService, UnlockedAchievement, UserStats } from './storage';\n\nexport interface Achievement {\n  id: string;\n  title: string;\n  description: string;\n  icon: string;\n  category: 'streak' | 'consumption' | 'consistency';\n  requirement: number;\n}\n\nexport const ACHIEVEMENTS: Achievement[] = [\n  {\n    id: 'streak_3',\n    title: 'Getting Started',\n    description: 'Reach a 3-day streak',\n    icon: 'droplet',\n    category: 'streak',\n    requirement: 3,\n  },\n  {\n    id: 'streak_7',\n    title: 'One Week Warrior',\n    description: 'Maintain a 7-day streak',\n    icon: 'award',\n    category: 'streak',\n    requirement: 7,\n  },\n  {\n    id: 'streak_14',\n    title: 'Two Week Champion',\n    description: 'Keep going for 14 days',\n    icon: 'star',\n    category: 'streak',\n    requirement: 14,\n  },\n  {\n    id: 'streak_30',\n    title: 'Monthly Master',\n    description: 'Hit a 30-day streak',\n    icon: 'trending-up',\n    category: 'streak',\n    requirement: 30,\n  },\n  {\n    id: 'streak_60',\n    title: 'Hydration Hero',\n    description: 'Achieve a 60-day streak',\n    icon: 'zap',\n    category: 'streak',\n    requirement: 60,\n  },\n  {\n    id: 'streak_90',\n    title: 'Aqua Legend',\n    description: 'Complete a 90-day streak',\n    icon: 'shield',\n    category: 'streak',\n    requirement: 90,\n  },\n  {\n    id: 'total_50L',\n    title: 'First 50 Liters',\n    description: 'Drink 50 liters total',\n    icon: 'droplet',\n    category: 'consumption',\n    requirement: 50000,\n  },\n  {\n    id: 'total_100L',\n    title: 'Century Club',\n    description: 'Drink 100 liters total',\n    icon: 'activity',\n    category: 'consumption',\n    requirement: 100000,\n  },\n  {\n    id: 'total_500L',\n    title: 'Half Ton',\n    description: 'Drink 500 liters total',\n    icon: 'award',\n    category: 'consumption',\n    requirement: 500000,\n  },\n  {\n    id: 'total_1000L',\n    title: 'One Ton Wonder',\n    description: 'Drink 1000 liters total',\n    icon: 'star',\n    category: 'consumption',\n    requirement: 1000000,\n  },\n  {\n    id: 'consistency_7',\n    title: 'Weekly Warrior',\n    description: 'Meet your goal 7 times',\n    icon: 'check-circle',\n    category: 'consistency',\n    requirement: 7,\n  },\n  {\n    id: 'consistency_30',\n    title: 'Monthly Achiever',\n    description: 'Meet your goal 30 times',\n    icon: 'target',\n    category: 'consistency',\n    requirement: 30,\n  },\n  {\n    id: 'consistency_100',\n    title: 'Century Achiever',\n    description: 'Meet your goal 100 times',\n    icon: 'award',\n    category: 'consistency',\n    requirement: 100,\n  },\n  {\n    id: 'consistency_365',\n    title: 'Year of Hydration',\n    description: 'Meet your goal 365 times',\n    icon: 'shield',\n    category: 'consistency',\n    requirement: 365,\n  },\n];\n\nexport class AchievementService {\n  static async checkAndUnlockAchievements(stats: UserStats): Promise<string[]> {\n    const unlockedAchievements = await StorageService.getAchievements();\n    const unlockedIds = new Set(unlockedAchievements.map(a => a.id));\n    const newlyUnlocked: string[] = [];\n\n    for (const achievement of ACHIEVEMENTS) {\n      if (unlockedIds.has(achievement.id)) {\n        continue;\n      }\n\n      let shouldUnlock = false;\n\n      switch (achievement.category) {\n        case 'streak':\n          shouldUnlock = stats.currentStreak >= achievement.requirement || stats.bestStreak >= achievement.requirement;\n          break;\n        case 'consumption':\n          shouldUnlock = stats.totalWaterConsumed >= achievement.requirement;\n          break;\n        case 'consistency':\n          shouldUnlock = stats.totalDaysMetGoal >= achievement.requirement;\n          break;\n      }\n\n      if (shouldUnlock) {\n        const newAchievement: UnlockedAchievement = {\n          id: achievement.id,\n          unlockedAt: Date.now(),\n        };\n        unlockedAchievements.push(newAchievement);\n        newlyUnlocked.push(achievement.id);\n      }\n    }\n\n    if (newlyUnlocked.length > 0) {\n      await StorageService.saveAchievements(unlockedAchievements);\n    }\n\n    return newlyUnlocked;\n  }\n\n  static async getUnlockedAchievements(): Promise<Achievement[]> {\n    const unlocked = await StorageService.getAchievements();\n    const unlockedIds = new Set(unlocked.map(a => a.id));\n    return ACHIEVEMENTS.filter(a => unlockedIds.has(a.id));\n  }\n\n  static async getLockedAchievements(): Promise<Achievement[]> {\n    const unlocked = await StorageService.getAchievements();\n    const unlockedIds = new Set(unlocked.map(a => a.id));\n    return ACHIEVEMENTS.filter(a => !unlockedIds.has(a.id));\n  }\n\n  static getNextAchievement(category: Achievement['category'], stats: UserStats): Achievement | null {\n    const categoryAchievements = ACHIEVEMENTS.filter(a => a.category === category).sort((a, b) => a.requirement - b.requirement);\n    \n    let currentValue = 0;\n    switch (category) {\n      case 'streak':\n        currentValue = Math.max(stats.currentStreak, stats.bestStreak);\n        break;\n      case 'consumption':\n        currentValue = stats.totalWaterConsumed;\n        break;\n      case 'consistency':\n        currentValue = stats.totalDaysMetGoal;\n        break;\n    }\n\n    for (const achievement of categoryAchievements) {\n      if (currentValue < achievement.requirement) {\n        return achievement;\n      }\n    }\n\n    return null;\n  }\n}\n","size_bytes":5296}},"version":2}